{"openapi":"3.0.2","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/":{"get":{"summary":"Root","description":"Root endpoint, redirects to main page.","operationId":"root__get","responses":{"307":{"description":"Successful Response"}}}},"/floors":{"get":{"summary":"Get All Floors","description":"Endpoint which returns all maps (floors) from the database.","operationId":"get_all_floors_floors_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get All Floors Floors Get","type":"array","items":{"$ref":"#/components/schemas/Floor"}}}}}},"security":[{"APIKeyCookie":[]}]},"post":{"summary":"Create Floor","description":"Endpoint which creates a new map.","operationId":"create_floor_floors_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FloorCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Floor"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/floors/{floor_id}":{"get":{"summary":"Get Floor By Id","description":"Endpoint which returns a map with a given id.","operationId":"get_floor_by_id_floors__floor_id__get","parameters":[{"required":true,"schema":{"title":"Floor Id","type":"integer"},"name":"floor_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Floor"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]},"put":{"summary":"Modify Floor","description":"Endpoint which modifies a map.","operationId":"modify_floor_floors__floor_id__put","parameters":[{"required":true,"schema":{"title":"Floor Id","type":"integer"},"name":"floor_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FloorCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Floor"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]},"delete":{"summary":"Delete Floor","description":"Endpoint which deletes a map.","operationId":"delete_floor_floors__floor_id__delete","parameters":[{"required":true,"schema":{"title":"Floor Id","type":"integer"},"name":"floor_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/floors/{floor_id}/image":{"get":{"summary":"Get Floor Image By Id","description":"Endpoint which returns a map image of the given id.","operationId":"get_floor_image_by_id_floors__floor_id__image_get","parameters":[{"required":true,"schema":{"title":"Floor Id","type":"integer"},"name":"floor_id","in":"path"}],"responses":{"200":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]},"put":{"summary":"Modify Floor Image By Id","description":"Endpoint which modifies a map image of the given id.","operationId":"modify_floor_image_by_id_floors__floor_id__image_put","parameters":[{"required":true,"schema":{"title":"Floor Id","type":"integer"},"name":"floor_id","in":"path"}],"requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_modify_floor_image_by_id_floors__floor_id__image_put"}}},"required":true},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/users":{"get":{"summary":"Get Users","description":"Endpoint which returns all users from the database.","operationId":"get_users_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Users Users Get","type":"array","items":{"$ref":"#/components/schemas/User"}}}}}},"security":[{"APIKeyCookie":[]}]},"post":{"summary":"Create User","description":"Endpoint which creates a user.","operationId":"create_user_users_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/users/me":{"get":{"summary":"Get User Me","description":"Endpoint which returns the currently logged in user.","operationId":"get_user_me_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"security":[{"APIKeyCookie":[]}]}},"/user/{user_id}":{"get":{"summary":"Get User By Id","description":"Endpoint which returns a user by id.","operationId":"get_user_by_id_user__user_id__get","parameters":[{"required":true,"schema":{"title":"User Id","type":"integer"},"name":"user_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/users/{user_id}":{"put":{"summary":"Modify User","description":"Endpoint which modifies a user.","operationId":"modify_user_users__user_id__put","parameters":[{"required":true,"schema":{"title":"User Id","type":"integer"},"name":"user_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserModify"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]},"delete":{"summary":"Delete User","description":"Endpoint which deletes a user.","operationId":"delete_user_users__user_id__delete","parameters":[{"required":true,"schema":{"title":"User Id","type":"integer"},"name":"user_id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/password-change":{"post":{"summary":"Change Password","description":"Endpoint which changes the password of the currrently logged in user.","operationId":"change_password_password_change_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChange"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/login":{"post":{"summary":"Login","description":"Endpoint which changes the user to log in.","operationId":"login_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_login_post"}}},"required":true},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/logout":{"post":{"summary":"Logout","description":"Endpoint which changes the user to log out.","operationId":"logout_logout_post","responses":{"204":{"description":"Successful Response"}},"security":[{"APIKeyCookie":[]}]}},"/logout-all":{"post":{"summary":"Logout All","description":"Endpoint which changes the user to log out from all sessions.","operationId":"logout_all_logout_all_post","responses":{"204":{"description":"Successful Response"}},"security":[{"APIKeyCookie":[]}]}},"/user-sessions":{"get":{"summary":"Get Sessions","description":"Endpoint which returns all current user sessions.","operationId":"get_sessions_user_sessions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Sessions User Sessions Get","type":"array","items":{"$ref":"#/components/schemas/UserSession"}}}}}},"security":[{"APIKeyCookie":[]}]},"delete":{"summary":"Logout All Users","description":"Endpoint which logs out all users.","operationId":"logout_all_users_user_sessions_delete","responses":{"204":{"description":"Successful Response"}},"security":[{"APIKeyCookie":[]}]}},"/network-discovery":{"get":{"summary":"Discover Network","description":"Endpoint which discovers the ZigBee network.","operationId":"discover_network_network_discovery_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DiscoveryResult"}}}}},"security":[{"APIKeyCookie":[]}]}},"/xbee-message":{"post":{"summary":"Send Message","description":"Endpoints which sends a message to a node in the ZigBee network.","operationId":"send_message_xbee_message_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageToXBee"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/XBeeMessageResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/xbee-wait":{"post":{"summary":"Wait","description":"Endpoints which makes the coordinator handler wait for some time.","operationId":"wait_xbee_wait_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/XBeeWaiting"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/XBeeWaitingResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/xbee-get-parameter":{"post":{"summary":"Get Parameter","description":"Endpoints which reads an AT parameter of a device in ZigBee network.","operationId":"get_parameter_xbee_get_parameter_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AtCommandGetExecute"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AtCommandResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/xbee-set-parameter":{"post":{"summary":"Set Parameter","description":"Endpoints which sets an AT parameter of a device in ZigBee network.","operationId":"set_parameter_xbee_set_parameter_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AtCommandSet"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AtCommandResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/xbee-execute-command":{"post":{"summary":"Execute Command","description":"Endpoints which executes an AT command unrelated to any parameter on a device in ZigBee network.","operationId":"execute_command_xbee_execute_command_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AtCommandGetExecute"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AtCommandResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/xbee-at-command":{"post":{"summary":"Execute Command","description":"Endpoint which executes an AT command on a device in ZigBee network.","operationId":"execute_command_xbee_at_command_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AtCommandWithType"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AtCommandResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}}},"components":{"schemas":{"AtCommandGetExecute":{"title":"AtCommandGetExecute","required":["address64","at_command"],"type":"object","properties":{"address64":{"title":"Address64","type":"string"},"at_command":{"title":"At Command","type":"string"},"apply_changes":{"title":"Apply Changes","type":"boolean","default":true},"value":{"title":"Value","type":"string"}},"description":"Schema for AT command which gets a parameter or executes a command unrelated to any parameter."},"AtCommandResult":{"title":"AtCommandResult","required":["status"],"type":"object","properties":{"status":{"title":"Status","type":"string"},"result":{"title":"Result","type":"string"},"error":{"title":"Error","type":"string"}},"description":"Schema of the result of AT command request."},"AtCommandSet":{"title":"AtCommandSet","required":["address64","at_command","value"],"type":"object","properties":{"address64":{"title":"Address64","type":"string"},"at_command":{"title":"At Command","type":"string"},"apply_changes":{"title":"Apply Changes","type":"boolean","default":true},"value":{"title":"Value","type":"string"}},"description":"Schema for AT command which sets a parameter."},"AtCommandWithType":{"title":"AtCommandWithType","required":["address64","at_command","command_type"],"type":"object","properties":{"address64":{"title":"Address64","type":"string"},"at_command":{"title":"At Command","type":"string"},"apply_changes":{"title":"Apply Changes","type":"boolean","default":true},"command_type":{"title":"Command Type","type":"string"},"value":{"title":"Value","type":"string"}},"description":"AT command with the type of the command."},"Body_login_login_post":{"title":"Body_login_login_post","required":["username","password"],"type":"object","properties":{"grant_type":{"title":"Grant Type","pattern":"password","type":"string"},"username":{"title":"Username","type":"string"},"password":{"title":"Password","type":"string"},"scope":{"title":"Scope","type":"string","default":""},"client_id":{"title":"Client Id","type":"string"},"client_secret":{"title":"Client Secret","type":"string"}}},"Body_modify_floor_image_by_id_floors__floor_id__image_put":{"title":"Body_modify_floor_image_by_id_floors__floor_id__image_put","required":["file"],"type":"object","properties":{"file":{"title":"File","type":"string","format":"binary"}}},"DeviceInDiscoveryResult":{"title":"DeviceInDiscoveryResult","required":["address64","address16","id","role"],"type":"object","properties":{"address64":{"title":"Address64","type":"string"},"address16":{"title":"Address16","type":"string"},"id":{"title":"Id","type":"string"},"role":{"title":"Role","type":"string"}},"description":"A device in the list of discovered devices."},"DiscoveryResult":{"title":"DiscoveryResult","required":["devices"],"type":"object","properties":{"devices":{"title":"Devices","type":"array","items":{"$ref":"#/components/schemas/DeviceInDiscoveryResult"}}},"description":"Schema for the result of discovery request."},"Floor":{"title":"Floor","required":["name","number","width","height","id"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"number":{"title":"Number","type":"integer"},"width":{"title":"Width","type":"number"},"height":{"title":"Height","type":"number"},"nodes":{"title":"Nodes","type":"array","items":{"$ref":"#/components/schemas/NodeInFloor"},"default":[]},"id":{"title":"Id","type":"integer"}},"description":"A schema used for reading and modifying of the node."},"FloorCreate":{"title":"FloorCreate","required":["name","number","width","height"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"number":{"title":"Number","type":"integer"},"width":{"title":"Width","type":"number"},"height":{"title":"Height","type":"number"},"nodes":{"title":"Nodes","type":"array","items":{"$ref":"#/components/schemas/NodeInFloor"},"default":[]}},"description":"A schema used for creating nodes."},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"MessageToXBee":{"title":"MessageToXBee","required":["address64","message"],"type":"object","properties":{"address64":{"title":"Address64","type":"string"},"message":{"title":"Message","type":"string"}},"description":"Schema for sending messages to an XBee device."},"NodeInFloor":{"title":"NodeInFloor","required":["name","address64","x","y"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"address64":{"title":"Address64","type":"string"},"x":{"title":"X","type":"number"},"y":{"title":"Y","type":"number"},"reading_configs":{"title":"Reading Configs","type":"array","items":{"$ref":"#/components/schemas/ReadingConfigInNode"},"default":[]},"id":{"title":"Id","type":"integer"},"floor_id":{"title":"Floor Id","type":"integer"}},"description":"Node schema when the node is part of a Floor object."},"PasswordChange":{"title":"PasswordChange","required":["old_password","new_password"],"type":"object","properties":{"old_password":{"title":"Old Password","type":"string"},"new_password":{"title":"New Password","type":"string"}},"description":"Schema used for changing the password of the user which is currently logged in."},"ReadingConfigInNode":{"title":"ReadingConfigInNode","required":["name","mode"],"type":"object","properties":{"name":{"title":"Name","type":"string"},"mode":{"title":"Mode","type":"string"},"refresh_period":{"title":"Refresh Period","type":"number"},"message_prefix":{"title":"Message Prefix","type":"string"},"message_to_send":{"title":"Message To Send","type":"string"},"at_command":{"title":"At Command","type":"string"},"at_command_data":{"title":"At Command Data","type":"string"},"at_command_result_format":{"title":"At Command Result Format","type":"string"},"id":{"title":"Id","type":"integer"},"node_id":{"title":"Node Id","type":"integer"}},"description":"ReadingConfig as a part of a Node object."},"User":{"title":"User","required":["username","role","disabled","id"],"type":"object","properties":{"username":{"title":"Username","type":"string"},"role":{"title":"Role","type":"string"},"disabled":{"title":"Disabled","type":"boolean"},"id":{"title":"Id","type":"integer"}},"description":"A schema used for reading users in the system."},"UserCreate":{"title":"UserCreate","required":["username","role","disabled","password"],"type":"object","properties":{"username":{"title":"Username","type":"string"},"role":{"title":"Role","type":"string"},"disabled":{"title":"Disabled","type":"boolean"},"password":{"title":"Password","type":"string"}},"description":"A schema used for adding users to the system."},"UserModify":{"title":"UserModify","required":["username","role","disabled"],"type":"object","properties":{"username":{"title":"Username","type":"string"},"role":{"title":"Role","type":"string"},"disabled":{"title":"Disabled","type":"boolean"},"password":{"title":"Password","type":"string"}},"description":"A schema used for modifying users in the system."},"UserSession":{"title":"UserSession","required":["id"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"user_id":{"title":"User Id","type":"string"}},"description":"Schema describing a user's session."},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}},"XBeeMessageResult":{"title":"XBeeMessageResult","required":["status"],"type":"object","properties":{"status":{"title":"Status","type":"string"},"message":{"title":"Message","type":"string"}},"description":"Result of a request to send a message to an XBee device."},"XBeeWaiting":{"title":"XBeeWaiting","required":["time"],"type":"object","properties":{"time":{"title":"Time","type":"number"}},"description":"Schema for sending messages a request to wait for the coordinator handler. Used for testing purposes."},"XBeeWaitingResult":{"title":"XBeeWaitingResult","required":["status","time"],"type":"object","properties":{"status":{"title":"Status","type":"string"},"time":{"title":"Time","type":"number"},"message":{"title":"Message","type":"string"}},"description":"Schema of the result the waiting request."}},"securitySchemes":{"APIKeyCookie":{"type":"apiKey","in":"cookie","name":"SID"}}}}