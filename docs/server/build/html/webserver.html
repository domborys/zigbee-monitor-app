
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>webserver package &#8212; ZigBee Monitor Server  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ZigBee Monitor Server  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">webserver package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-webserver">
<span id="webserver-package"></span><h1>webserver package<a class="headerlink" href="#module-webserver" title="Permalink to this headline">¶</a></h1>
<p>The web server package.</p>
<p>It provides static files from the webserver/static folder and API written using the FastApi framework.</p>
<p>To start the Uvicorn server which runs the application run <a class="reference internal" href="#module-webserver.run_server" title="webserver.run_server"><code class="xref py py-mod docutils literal notranslate"><span class="pre">webserver.run_server</span></code></a> as module.</p>
<p>Windows example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">zigbee</span><span class="o">-</span><span class="n">monitor</span><span class="o">-</span><span class="n">app</span><span class="o">&gt;</span> <span class="o">.</span>\<span class="n">venv</span>\<span class="n">Scripts</span>\<span class="n">activate</span><span class="o">.</span><span class="n">bat</span>
<span class="p">(</span><span class="n">venv</span><span class="p">)</span> <span class="n">C</span><span class="p">:</span>\<span class="n">zigbee</span><span class="o">-</span><span class="n">monitor</span><span class="o">-</span><span class="n">app</span><span class="o">&gt;</span> <span class="n">py</span> <span class="o">-</span><span class="n">m</span> <span class="n">webserver</span><span class="o">.</span><span class="n">run_server</span>
</pre></div>
</div>
<p>Linux example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~/zigbee-monitor-app$ source venv/bat/activate
(venv) ~/zigbee-monitor-app$ python3 -m webserver.run_server
</pre></div>
</div>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-webserver.config">
<span id="webserver-config-module"></span><h2>webserver.config module<a class="headerlink" href="#module-webserver.config" title="Permalink to this headline">¶</a></h2>
<p>A module providing the configuration for the modules of the <a class="reference internal" href="#module-webserver" title="webserver"><code class="xref py py-mod docutils literal notranslate"><span class="pre">webserver</span></code></a> package.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All the values provided in this documentation are the default values. The defaults may be overridden by the values from <a class="reference internal" href="#module-webserver.custom_config" title="webserver.custom_config"><code class="xref py py-mod docutils literal notranslate"><span class="pre">custom_config</span></code></a>.
This module file should not be modified by the users. Custom values can be provided in <a class="reference internal" href="#module-webserver.custom_config" title="webserver.custom_config"><code class="xref py py-mod docutils literal notranslate"><span class="pre">custom_config</span></code></a>.</p>
</div>
<dl class="py data">
<dt class="sig sig-object py" id="webserver.config.DATABASE_URL">
<span class="sig-prename descclassname"><span class="pre">webserver.config.</span></span><span class="sig-name descname"><span class="pre">DATABASE_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'sqlite:///C:\\Users\\Dominik\\Documents\\Studia\\inz\\zigbee-monitor-app\\database\\zigbee_monitor.db'</span></em><a class="headerlink" href="#webserver.config.DATABASE_URL" title="Permalink to this definition">¶</a></dt>
<dd><p>Location of the SQLite database file</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="webserver.config.DEVICE_TIMEOUT">
<span class="sig-prename descclassname"><span class="pre">webserver.config.</span></span><span class="sig-name descname"><span class="pre">DEVICE_TIMEOUT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">30</span></em><a class="headerlink" href="#webserver.config.DEVICE_TIMEOUT" title="Permalink to this definition">¶</a></dt>
<dd><p>Timeout for requests to the coordinator handler.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="webserver.config.PROJECT_DIR">
<span class="sig-prename descclassname"><span class="pre">webserver.config.</span></span><span class="sig-name descname"><span class="pre">PROJECT_DIR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">WindowsPath('C:/Users/Dominik/Documents/Studia/inz/zigbee-monitor-app')</span></em><a class="headerlink" href="#webserver.config.PROJECT_DIR" title="Permalink to this definition">¶</a></dt>
<dd><p>A path to the root directory of the project.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="webserver.config.SESSION_IDLE_TIME">
<span class="sig-prename descclassname"><span class="pre">webserver.config.</span></span><span class="sig-name descname"><span class="pre">SESSION_IDLE_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">900</span></em><a class="headerlink" href="#webserver.config.SESSION_IDLE_TIME" title="Permalink to this definition">¶</a></dt>
<dd><p>Time after which the user is logged out.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="webserver.config.STATIC_FILES_DIR">
<span class="sig-prename descclassname"><span class="pre">webserver.config.</span></span><span class="sig-name descname"><span class="pre">STATIC_FILES_DIR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'C:\\Users\\Dominik\\Documents\\Studia\\inz\\zigbee-monitor-app\\webserver\\static'</span></em><a class="headerlink" href="#webserver.config.STATIC_FILES_DIR" title="Permalink to this definition">¶</a></dt>
<dd><p>The directory with static files.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="webserver.config.UVICORN_CONFIG">
<span class="sig-prename descclassname"><span class="pre">webserver.config.</span></span><span class="sig-name descname"><span class="pre">UVICORN_CONFIG</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'host':</span> <span class="pre">'0.0.0.0',</span> <span class="pre">'reload':</span> <span class="pre">True}</span></em><a class="headerlink" href="#webserver.config.UVICORN_CONFIG" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration of the Uvicorn server.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="webserver.config.XBEE_IP_ADDRESS">
<span class="sig-prename descclassname"><span class="pre">webserver.config.</span></span><span class="sig-name descname"><span class="pre">XBEE_IP_ADDRESS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'127.0.0.1'</span></em><a class="headerlink" href="#webserver.config.XBEE_IP_ADDRESS" title="Permalink to this definition">¶</a></dt>
<dd><p>IP address of the coordinator handler.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="webserver.config.XBEE_PORT_NOTIFY">
<span class="sig-prename descclassname"><span class="pre">webserver.config.</span></span><span class="sig-name descname"><span class="pre">XBEE_PORT_NOTIFY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">9021</span></em><a class="headerlink" href="#webserver.config.XBEE_PORT_NOTIFY" title="Permalink to this definition">¶</a></dt>
<dd><p>TCP port uset for getting notifications from the coordinator handler.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="webserver.config.XBEE_PORT_REQUEST">
<span class="sig-prename descclassname"><span class="pre">webserver.config.</span></span><span class="sig-name descname"><span class="pre">XBEE_PORT_REQUEST</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">9020</span></em><a class="headerlink" href="#webserver.config.XBEE_PORT_REQUEST" title="Permalink to this definition">¶</a></dt>
<dd><p>TCP port uset for making requests to the coordinator handler.</p>
</dd></dl>

</section>
<section id="module-webserver.custom_config">
<span id="webserver-custom-config-module"></span><h2>webserver.custom_config module<a class="headerlink" href="#module-webserver.custom_config" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-webserver.database">
<span id="webserver-database-module"></span><h2>webserver.database module<a class="headerlink" href="#module-webserver.database" title="Permalink to this headline">¶</a></h2>
<p>Module providing SQLAlchemy setup</p>
<dl class="py class">
<dt class="sig sig-object py" id="webserver.database.Base">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.database.</span></span><span class="sig-name descname"><span class="pre">Base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.database.Base" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The base class of the class hierarchy.</p>
<p>When called, it accepts no arguments and returns a new featureless
instance that has no instance attributes and cannot be given any.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.database.Base.metadata">
<span class="sig-name descname"><span class="pre">metadata</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">MetaData()</span></em><a class="headerlink" href="#webserver.database.Base.metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.database.Base.registry">
<span class="sig-name descname"><span class="pre">registry</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;sqlalchemy.orm.decl_api.registry</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#webserver.database.Base.registry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="webserver.database.SessionLocal">
<span class="sig-prename descclassname"><span class="pre">webserver.database.</span></span><span class="sig-name descname"><span class="pre">SessionLocal</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">sessionmaker(class_='Session',</span> <span class="pre">bind=Engine(sqlite:///C:\Users\Dominik\Documents\Studia\inz\zigbee-monitor-app\database\zigbee_monitor.db),</span> <span class="pre">autoflush=False,</span> <span class="pre">autocommit=False,</span> <span class="pre">expire_on_commit=True)</span></em><a class="headerlink" href="#webserver.database.SessionLocal" title="Permalink to this definition">¶</a></dt>
<dd><p>A callable generating database sessions.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="webserver.database.engine">
<span class="sig-prename descclassname"><span class="pre">webserver.database.</span></span><span class="sig-name descname"><span class="pre">engine</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">Engine(sqlite:///C:\Users\Dominik\Documents\Studia\inz\zigbee-monitor-app\database\zigbee_monitor.db)</span></em><a class="headerlink" href="#webserver.database.engine" title="Permalink to this definition">¶</a></dt>
<dd><p>The SQLAlchemy database engine.</p>
</dd></dl>

</section>
<section id="module-webserver.dbmodels">
<span id="webserver-dbmodels-module"></span><h2>webserver.dbmodels module<a class="headerlink" href="#module-webserver.dbmodels" title="Permalink to this headline">¶</a></h2>
<p>Module defining ORM models used by SQLAlchemy</p>
<dl class="py class">
<dt class="sig sig-object py" id="webserver.dbmodels.Floor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.dbmodels.</span></span><span class="sig-name descname"><span class="pre">Floor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbmodels.Floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.database.Base" title="sqlalchemy.orm.decl_api.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.orm.decl_api.Base</span></code></a></p>
<p>A single map in the system.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Floor.height">
<span class="sig-name descname"><span class="pre">height</span></span><a class="headerlink" href="#webserver.dbmodels.Floor.height" title="Permalink to this definition">¶</a></dt>
<dd><p>The height of the map.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Floor.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#webserver.dbmodels.Floor.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id in the system (primary key).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Floor.image">
<span class="sig-name descname"><span class="pre">image</span></span><a class="headerlink" href="#webserver.dbmodels.Floor.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Map image file.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Floor.image_media_type">
<span class="sig-name descname"><span class="pre">image_media_type</span></span><a class="headerlink" href="#webserver.dbmodels.Floor.image_media_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Media type of the image file.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Floor.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#webserver.dbmodels.Floor.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the map.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Floor.nodes">
<span class="sig-name descname"><span class="pre">nodes</span></span><a class="headerlink" href="#webserver.dbmodels.Floor.nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Nodes present on the map.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Floor.number">
<span class="sig-name descname"><span class="pre">number</span></span><a class="headerlink" href="#webserver.dbmodels.Floor.number" title="Permalink to this definition">¶</a></dt>
<dd><p>The number used for sorting maps. If the maps are building floors, the number may be equal to floor number.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Floor.width">
<span class="sig-name descname"><span class="pre">width</span></span><a class="headerlink" href="#webserver.dbmodels.Floor.width" title="Permalink to this definition">¶</a></dt>
<dd><p>The width of the map.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.dbmodels.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.dbmodels.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbmodels.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.database.Base" title="sqlalchemy.orm.decl_api.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.orm.decl_api.Base</span></code></a></p>
<p>A node of ZigBee network.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Node.address64">
<span class="sig-name descname"><span class="pre">address64</span></span><a class="headerlink" href="#webserver.dbmodels.Node.address64" title="Permalink to this definition">¶</a></dt>
<dd><p>64-bit address of the node as a hexadecimal string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Node.floor">
<span class="sig-name descname"><span class="pre">floor</span></span><a class="headerlink" href="#webserver.dbmodels.Node.floor" title="Permalink to this definition">¶</a></dt>
<dd><p>The map on which the node is placed.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Node.floor_id">
<span class="sig-name descname"><span class="pre">floor_id</span></span><a class="headerlink" href="#webserver.dbmodels.Node.floor_id" title="Permalink to this definition">¶</a></dt>
<dd><p>id of the map on which the node is placed.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Node.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#webserver.dbmodels.Node.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id in the system (primary key).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Node.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#webserver.dbmodels.Node.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Node name.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Node.reading_configs">
<span class="sig-name descname"><span class="pre">reading_configs</span></span><a class="headerlink" href="#webserver.dbmodels.Node.reading_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>The readings related to the node.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Node.x">
<span class="sig-name descname"><span class="pre">x</span></span><a class="headerlink" href="#webserver.dbmodels.Node.x" title="Permalink to this definition">¶</a></dt>
<dd><p>x coordinate of the node on the map.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.Node.y">
<span class="sig-name descname"><span class="pre">y</span></span><a class="headerlink" href="#webserver.dbmodels.Node.y" title="Permalink to this definition">¶</a></dt>
<dd><p>y coordinate of the node on the map.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.dbmodels.ReadingConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.dbmodels.</span></span><span class="sig-name descname"><span class="pre">ReadingConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbmodels.ReadingConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.database.Base" title="sqlalchemy.orm.decl_api.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.orm.decl_api.Base</span></code></a></p>
<p>Configuration of a reading provided by a node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.ReadingConfig.at_command">
<span class="sig-name descname"><span class="pre">at_command</span></span><a class="headerlink" href="#webserver.dbmodels.ReadingConfig.at_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The AT command which will be used for obtaining the reading value.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.ReadingConfig.at_command_data">
<span class="sig-name descname"><span class="pre">at_command_data</span></span><a class="headerlink" href="#webserver.dbmodels.ReadingConfig.at_command_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Data for the AT command which will be used for obtaining the reading value.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.ReadingConfig.at_command_result_format">
<span class="sig-name descname"><span class="pre">at_command_result_format</span></span><a class="headerlink" href="#webserver.dbmodels.ReadingConfig.at_command_result_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format of the AT command result</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.ReadingConfig.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#webserver.dbmodels.ReadingConfig.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id in the system (primary key).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.ReadingConfig.message_prefix">
<span class="sig-name descname"><span class="pre">message_prefix</span></span><a class="headerlink" href="#webserver.dbmodels.ReadingConfig.message_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefix of the message containing the reading value.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.ReadingConfig.message_to_send">
<span class="sig-name descname"><span class="pre">message_to_send</span></span><a class="headerlink" href="#webserver.dbmodels.ReadingConfig.message_to_send" title="Permalink to this definition">¶</a></dt>
<dd><p>The message which will be sent to the device in order to obtain the reading value.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.ReadingConfig.mode">
<span class="sig-name descname"><span class="pre">mode</span></span><a class="headerlink" href="#webserver.dbmodels.ReadingConfig.mode" title="Permalink to this definition">¶</a></dt>
<dd><p>The mode of obtaining the reading.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.ReadingConfig.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#webserver.dbmodels.ReadingConfig.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the reading.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.ReadingConfig.node">
<span class="sig-name descname"><span class="pre">node</span></span><a class="headerlink" href="#webserver.dbmodels.ReadingConfig.node" title="Permalink to this definition">¶</a></dt>
<dd><p>The node which provides the reading.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.ReadingConfig.node_id">
<span class="sig-name descname"><span class="pre">node_id</span></span><a class="headerlink" href="#webserver.dbmodels.ReadingConfig.node_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the node which provides the reading.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.ReadingConfig.refresh_period">
<span class="sig-name descname"><span class="pre">refresh_period</span></span><a class="headerlink" href="#webserver.dbmodels.ReadingConfig.refresh_period" title="Permalink to this definition">¶</a></dt>
<dd><p>The period in which the reading is refreshed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.dbmodels.User">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.dbmodels.</span></span><span class="sig-name descname"><span class="pre">User</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbmodels.User" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.database.Base" title="sqlalchemy.orm.decl_api.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.orm.decl_api.Base</span></code></a></p>
<p>A user of the system</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.User.disabled">
<span class="sig-name descname"><span class="pre">disabled</span></span><a class="headerlink" href="#webserver.dbmodels.User.disabled" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the user is disabled.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.User.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#webserver.dbmodels.User.id" title="Permalink to this definition">¶</a></dt>
<dd><p>User id in the system (primary key).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.User.password_hash">
<span class="sig-name descname"><span class="pre">password_hash</span></span><a class="headerlink" href="#webserver.dbmodels.User.password_hash" title="Permalink to this definition">¶</a></dt>
<dd><p>Hash of user’s password</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.User.role">
<span class="sig-name descname"><span class="pre">role</span></span><a class="headerlink" href="#webserver.dbmodels.User.role" title="Permalink to this definition">¶</a></dt>
<dd><p>Role of the user. Can be either “user” or “admin”.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.User.sessions">
<span class="sig-name descname"><span class="pre">sessions</span></span><a class="headerlink" href="#webserver.dbmodels.User.sessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Sessions of the user.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.User.username">
<span class="sig-name descname"><span class="pre">username</span></span><a class="headerlink" href="#webserver.dbmodels.User.username" title="Permalink to this definition">¶</a></dt>
<dd><p>User’s username.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.dbmodels.UserSession">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.dbmodels.</span></span><span class="sig-name descname"><span class="pre">UserSession</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbmodels.UserSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.database.Base" title="sqlalchemy.orm.decl_api.Base"><code class="xref py py-class docutils literal notranslate"><span class="pre">sqlalchemy.orm.decl_api.Base</span></code></a></p>
<p>User session.</p>
<p>Session is created when the user logs in and deleted when user logs out or does not make any requests in specified time.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.UserSession.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#webserver.dbmodels.UserSession.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the session in the database (primary key).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.UserSession.session_id">
<span class="sig-name descname"><span class="pre">session_id</span></span><a class="headerlink" href="#webserver.dbmodels.UserSession.session_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Session id used by the user for authorization.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.UserSession.time_last_activity">
<span class="sig-name descname"><span class="pre">time_last_activity</span></span><a class="headerlink" href="#webserver.dbmodels.UserSession.time_last_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Time of the last activity of the user in the session.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.UserSession.time_started">
<span class="sig-name descname"><span class="pre">time_started</span></span><a class="headerlink" href="#webserver.dbmodels.UserSession.time_started" title="Permalink to this definition">¶</a></dt>
<dd><p>Time when the session was started.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.UserSession.user">
<span class="sig-name descname"><span class="pre">user</span></span><a class="headerlink" href="#webserver.dbmodels.UserSession.user" title="Permalink to this definition">¶</a></dt>
<dd><p>The user to whom the session belongs.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.dbmodels.UserSession.user_id">
<span class="sig-name descname"><span class="pre">user_id</span></span><a class="headerlink" href="#webserver.dbmodels.UserSession.user_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the user to whom the session belongs.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-webserver.dbsrv">
<span id="webserver-dbsrv-module"></span><h2>webserver.dbsrv module<a class="headerlink" href="#module-webserver.dbsrv" title="Permalink to this headline">¶</a></h2>
<p>Module with functions operating on the database.</p>
<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.authenticate_user">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">authenticate_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.authenticate_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Authenticates the user.</p>
<p>The function checks if the username and password provided as arguments are correct.
If so, a new user session is created in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>username</strong> – user’s username.</p></li>
<li><p><strong>password</strong> – user’s password.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>If the username and password are correct returns the newly created user’s session from the database.
Otherwise returns None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.change_password">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">change_password</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password_change</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.PasswordChange" title="webserver.pydmodels.PasswordChange"><span class="pre">webserver.pydmodels.PasswordChange</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.change_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes user’s password.</p>
<p>The function requires the correct old password of the user, otherwise it will raise an exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>password_change</strong> – a Pydantic model containing the old and new password of the user.</p></li>
<li><p><strong>username</strong> – username of the user.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>fastapi.HTTPException</strong> – When the old password is incorrect.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.create_floor">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">create_floor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.FloorCreate" title="webserver.pydmodels.FloorCreate"><span class="pre">webserver.pydmodels.FloorCreate</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.create_floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a map to the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>floor</strong> – a Pydantic model with the map to create.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The newly created map from the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.create_user">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">create_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.UserCreate" title="webserver.pydmodels.UserCreate"><span class="pre">webserver.pydmodels.UserCreate</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.create_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates user in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>user</strong> – a Pydantic model of the user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The newly created user in the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.delete_all_user_sessions">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">delete_all_user_sessions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.delete_all_user_sessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all user sessions from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>db</strong> – a database session.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.delete_expired_user_sessions">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">delete_expired_user_sessions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.delete_expired_user_sessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all expired user sessions.</p>
<p>Session is expired if its <cite>time_last_activity</cite> is more than <cite>config.SESSION_IDLE_TIME</cite> seconds ago.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>db</strong> – a database session.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.delete_floor">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">delete_floor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#webserver.dbsrv.delete_floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a map from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>floor_id</strong> – id of the map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the map existed in the database before, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.delete_user">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">delete_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.delete_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a user from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>user_id</strong> – id of the user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the user existed in the database before, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.end_all_user_sessions">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">end_all_user_sessions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.dbmodels.User" title="webserver.dbmodels.User"><span class="pre">webserver.dbmodels.User</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.end_all_user_sessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Ends all sessions owned by the user.</p>
<p>All sessions owned be the user will be deleted from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>db_user</strong> – user, whose sessions will be deleted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.end_user_session">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">end_user_session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.end_user_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Ends a user session.</p>
<p>The session is removed from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>session_id</strong> – session id (token)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.get_all_floors">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">get_all_floors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.get_all_floors" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all maps from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>db</strong> – a database session.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>All maps in the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.get_all_user_sessions">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">get_all_user_sessions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.dbmodels.UserSession" title="webserver.dbmodels.UserSession"><span class="pre">webserver.dbmodels.UserSession</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#webserver.dbsrv.get_all_user_sessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all user sessions from the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>db</strong> – a database session.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>All user sessions from the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.get_all_users">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">get_all_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.get_all_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all users in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>db</strong> – a database session.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>All users in the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.get_floor_by_id">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">get_floor_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.get_floor_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a map by its id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>floor_id</strong> – id of the map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The map with the given id.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.get_session_and_refresh">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">get_session_and_refresh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.get_session_and_refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a session by its session id, checks if it is not expired and refreshes it.</p>
<p>If the session is expired it is removed from the database. Othewise the current time is written into time_last_activity.
:param db: a database session.
:param session_id: session id (token).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>If the session by the given session_id exists and is not expired returns the updates session.
Otherwise, returns none.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.get_session_by_session_id">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">get_session_by_session_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">session_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.get_session_by_session_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a session by its session id (session token).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>session_id</strong> – session id (token).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The session from the database of the given session_id or None if the session deosn’t exist in the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.get_user_by_id">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">get_user_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.get_user_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a user from the database by id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>user_id</strong> – user’s id.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The user with the given id.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.get_user_by_username">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">get_user_by_username</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.get_user_by_username" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a user from the database by the username.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>username</strong> – user’s username.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The user with the given username.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.modify_floor">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">modify_floor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.Floor" title="webserver.pydmodels.Floor"><span class="pre">webserver.pydmodels.Floor</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.modify_floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies a map in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>floor_id</strong> – id of the map.</p></li>
<li><p><strong>floor</strong> – a Pydantic model with the new version of the map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The modified map from the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.modify_user">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">modify_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.UserModify" title="webserver.pydmodels.UserModify"><span class="pre">webserver.pydmodels.UserModify</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.dbsrv.modify_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Modifies user in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>user_id</strong> – id of the user.</p></li>
<li><p><strong>user</strong> – a Pydantic model of the new version of the user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The modified user in the database.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.set_floor_image">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">set_floor_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">fastapi.datastructures.UploadFile</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#webserver.dbsrv.set_floor_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the image file for the given map</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>floor_id</strong> – id of the map.</p></li>
<li><p><strong>file</strong> – the file uploaded by the client.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.dbsrv.start_user_session">
<span class="sig-prename descclassname"><span class="pre">webserver.dbsrv.</span></span><span class="sig-name descname"><span class="pre">start_user_session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.dbmodels.User" title="webserver.dbmodels.User"><span class="pre">webserver.dbmodels.User</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#webserver.dbmodels.UserSession" title="webserver.dbmodels.UserSession"><span class="pre">webserver.dbmodels.UserSession</span></a></span></span><a class="headerlink" href="#webserver.dbsrv.start_user_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts a new user session.</p>
<p>It adds a new session to the database with random session_id (session token) and with the given owner user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> – a database session.</p></li>
<li><p><strong>db_user</strong> – the user in the database whose session will be created.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The newly created user session.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-webserver.main">
<span id="webserver-main-module"></span><h2>webserver.main module<a class="headerlink" href="#module-webserver.main" title="Permalink to this headline">¶</a></h2>
<p>Main module of the FastAPI app.</p>
<dl class="py data">
<dt class="sig sig-object py" id="webserver.main.app">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">app</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;fastapi.applications.FastAPI</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#webserver.main.app" title="Permalink to this definition">¶</a></dt>
<dd><p>The main app.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.change_password">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">change_password</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">password_change</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.PasswordChange" title="webserver.pydmodels.PasswordChange"><span class="pre">webserver.pydmodels.PasswordChange</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.dbmodels.User" title="webserver.dbmodels.User"><span class="pre">webserver.dbmodels.User</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_active_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.change_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which changes the password of the currrently logged in user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.check_csrf_token">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">check_csrf_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.requests.Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#webserver.main.check_csrf_token" title="Permalink to this definition">¶</a></dt>
<dd><p>When the CSRF token is required, the function checks if it’s correct.
If the token is incorrect it raises an exception.</p>
<p>The CSRF token is required for methods POST, PUT, DELETE and PATCH.
The CSRF check is successful when the XSRF-TOKEN cookie is equal to the X-XSRF-TOKEN header.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>request</strong> – the request to the server.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>fastapi.HTTPException</strong> – when the CSRF token is needed but is invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="webserver.main.cookie_sid">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">cookie_sid</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;fastapi.security.api_key.APIKeyCookie</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#webserver.main.cookie_sid" title="Permalink to this definition">¶</a></dt>
<dd><p>A dependency on cookie with the session id token.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.create_floor">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">create_floor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.FloorCreate" title="webserver.pydmodels.FloorCreate"><span class="pre">webserver.pydmodels.FloorCreate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.create_floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which creates a new map.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.create_user">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">create_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.UserCreate" title="webserver.pydmodels.UserCreate"><span class="pre">webserver.pydmodels.UserCreate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.create_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which creates a user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.csrf_tokens_equal">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">csrf_tokens_equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.requests.Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#webserver.main.csrf_tokens_equal" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the XSRF-TOKEN cookie is equal to the X-XSRF-TOKEN header.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>request</strong> – the request to the server.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if they are equal, false otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.delete_floor">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">delete_floor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.delete_floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which deletes a map.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.delete_user">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">delete_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.delete_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which deletes a user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.discover_network">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">discover_network</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.discover_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which discovers the ZigBee network.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.execute_command">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">execute_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.AtCommandWithType" title="webserver.pydmodels.AtCommandWithType"><span class="pre">webserver.pydmodels.AtCommandWithType</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.execute_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which executes an AT command on a device in ZigBee network.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_all_floors">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_all_floors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.get_all_floors" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which returns all maps (floors) from the database.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_current_active_user">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_current_active_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.dbmodels.User" title="webserver.dbmodels.User"><span class="pre">webserver.dbmodels.User</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_user)</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#webserver.dbmodels.User" title="webserver.dbmodels.User"><span class="pre">webserver.dbmodels.User</span></a></span></span><a class="headerlink" href="#webserver.main.get_current_active_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the user of the current session if the user is not disabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>user_session</strong> – current user session.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the currently logged in user.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>fastapi.HTTPException</strong> – if there is no valid session or if the user is disabled.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_current_session">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_current_session</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.requests.Request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(APIKeyCookie)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#webserver.dbmodels.UserSession" title="webserver.dbmodels.UserSession"><span class="pre">webserver.dbmodels.UserSession</span></a></span></span><a class="headerlink" href="#webserver.main.get_current_session" title="Permalink to this definition">¶</a></dt>
<dd><p>A dependency which returns the database session of the currently logged in user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> – client’s request.</p></li>
<li><p><strong>sid</strong> – user’s session id obtained from the cookie.</p></li>
<li><p><strong>db</strong> – database session.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>user session from the database.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>fastapi.HTTPException</strong> – when there is no valid session with the provided <cite>sid</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_current_session_ws">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_current_session_ws</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">websocket</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.websockets.WebSocket</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Cookie(None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#webserver.dbmodels.UserSession" title="webserver.dbmodels.UserSession"><span class="pre">webserver.dbmodels.UserSession</span></a></span></span><a class="headerlink" href="#webserver.main.get_current_session_ws" title="Permalink to this definition">¶</a></dt>
<dd><p>A dependency which returns the database session of the currently logged in user. Intended to be used on WebSocket endpoints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>websocket</strong> – WebSocket with which the clint connects.</p></li>
<li><p><strong>sid</strong> – user’s session id obtained from the cookie.</p></li>
<li><p><strong>db</strong> – database session.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>user session from the database.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>fastapi.HTTPException</strong> – if there is no valid session.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_current_user">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_current_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.dbmodels.UserSession" title="webserver.dbmodels.UserSession"><span class="pre">webserver.dbmodels.UserSession</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_session)</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#webserver.dbmodels.User" title="webserver.dbmodels.User"><span class="pre">webserver.dbmodels.User</span></a></span></span><a class="headerlink" href="#webserver.main.get_current_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the user of the current session.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>user_session</strong> – current user session.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the currently logged in user.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>fastapi.HTTPException</strong> – if there is no valid session.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_db">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_db</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.get_db" title="Permalink to this definition">¶</a></dt>
<dd><p>A dependency which yields a SQLAlchemy session.</p>
<dl class="field-list simple">
<dt class="field-odd">Yields</dt>
<dd class="field-odd"><p><em>sqlalchemy.orm.Session</em> – database session.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_floor_by_id">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_floor_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.get_floor_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which returns a map with a given id.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_floor_image_by_id">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_floor_image_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.get_floor_image_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which returns a map image of the given id.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_parameter">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.AtCommandGetExecute" title="webserver.pydmodels.AtCommandGetExecute"><span class="pre">webserver.pydmodels.AtCommandGetExecute</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.get_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoints which reads an AT parameter of a device in ZigBee network.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_sessions">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_sessions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.get_sessions" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which returns all current user sessions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_user_by_id">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_user_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.get_user_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which returns a user by id.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_user_me">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_user_me</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.dbmodels.User" title="webserver.dbmodels.User"><span class="pre">webserver.dbmodels.User</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_active_user)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.get_user_me" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which returns the currently logged in user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.get_users">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">get_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.get_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which returns all users from the database.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.handle_xbee_error">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">handle_xbee_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.requests.Request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.xbeesrv.XBeeServerError" title="webserver.xbeesrv.XBeeServerError"><span class="pre">webserver.xbeesrv.XBeeServerError</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.handle_xbee_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception handler for <cite>~webserver.main.XBeeServerError</cite></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.is_valid_admin">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">is_valid_admin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.dbmodels.UserSession" title="webserver.dbmodels.UserSession"><span class="pre">webserver.dbmodels.UserSession</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_session)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.is_valid_admin" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the user of the current session has admin role and is not disabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>user_session</strong> – current user session.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>fastapi.HTTPException</strong> – if the user is disabled or has a role other than admin.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.is_valid_user">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">is_valid_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.dbmodels.UserSession" title="webserver.dbmodels.UserSession"><span class="pre">webserver.dbmodels.UserSession</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_session)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.is_valid_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the user of the current session is not disabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>user_session</strong> – current user session.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>fastapi.HTTPException</strong> – if there is no valid session or if the user is disabled.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.login">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">login</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.responses.Response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">form_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">fastapi.security.oauth2.OAuth2PasswordRequestForm</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(NoneType)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.login" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which changes the user to log in.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.logout">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">logout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.responses.Response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.dbmodels.UserSession" title="webserver.dbmodels.UserSession"><span class="pre">webserver.dbmodels.UserSession</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_session)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.logout" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which changes the user to log out.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.logout_all">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">logout_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.responses.Response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.dbmodels.UserSession" title="webserver.dbmodels.UserSession"><span class="pre">webserver.dbmodels.UserSession</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_session)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.logout_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which changes the user to log out from all sessions.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.logout_all_users">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">logout_all_users</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.logout_all_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which logs out all users.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.message_websocket">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">message_websocket</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">websocket</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.websockets.WebSocket</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_session</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.dbmodels.UserSession" title="webserver.dbmodels.UserSession"><span class="pre">webserver.dbmodels.UserSession</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_current_session_ws)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.message_websocket" title="Permalink to this definition">¶</a></dt>
<dd><p>WebSocket which allows clients receive messages received by the coordinator.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.modify_floor">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">modify_floor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.FloorCreate" title="webserver.pydmodels.FloorCreate"><span class="pre">webserver.pydmodels.FloorCreate</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.modify_floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which modifies a map.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.modify_floor_image_by_id">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">modify_floor_image_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">fastapi.datastructures.UploadFile</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">File(Ellipsis)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.modify_floor_image_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which modifies a map image of the given id.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.modify_user">
<span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">modify_user</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.UserModify" title="webserver.pydmodels.UserModify"><span class="pre">webserver.pydmodels.UserModify</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">sqlalchemy.orm.session.Session</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Depends(get_db)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.modify_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint which modifies a user.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.root">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">root</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.root" title="Permalink to this definition">¶</a></dt>
<dd><p>Root endpoint, redirects to main page.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.send_message">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">send_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.MessageToXBee" title="webserver.pydmodels.MessageToXBee"><span class="pre">webserver.pydmodels.MessageToXBee</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.send_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoints which sends a message to a node in the ZigBee network.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.set_parameter">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">set_parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.AtCommandSet" title="webserver.pydmodels.AtCommandSet"><span class="pre">webserver.pydmodels.AtCommandSet</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.set_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoints which sets an AT parameter of a device in ZigBee network.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.main.wait">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.main.</span></span><span class="sig-name descname"><span class="pre">wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waiting</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#webserver.pydmodels.XBeeWaiting" title="webserver.pydmodels.XBeeWaiting"><span class="pre">webserver.pydmodels.XBeeWaiting</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.main.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoints which makes the coordinator handler wait for some time.</p>
</dd></dl>

</section>
<section id="module-webserver.pwdcontext">
<span id="webserver-pwdcontext-module"></span><h2>webserver.pwdcontext module<a class="headerlink" href="#module-webserver.pwdcontext" title="Permalink to this headline">¶</a></h2>
<p>Module with pwd_context defining the hash function used for storing passwords.</p>
<dl class="py data">
<dt class="sig sig-object py" id="webserver.pwdcontext.pwd_context">
<span class="sig-prename descclassname"><span class="pre">webserver.pwdcontext.</span></span><span class="sig-name descname"><span class="pre">pwd_context</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;CryptContext&gt;</span></em><a class="headerlink" href="#webserver.pwdcontext.pwd_context" title="Permalink to this definition">¶</a></dt>
<dd><p>CryptContext defining the hash function for the passwords.</p>
</dd></dl>

</section>
<section id="module-webserver.pydmodels">
<span id="webserver-pydmodels-module"></span><h2>webserver.pydmodels module<a class="headerlink" href="#module-webserver.pydmodels" title="Permalink to this headline">¶</a></h2>
<p>Module with Pydantic models for the API requests and responses.</p>
<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">AtCommandBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address64</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">at_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_changes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.AtCommandBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Base class for schemas used to send AT commands to the devices in the XBee network.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandBase.address64">
<span class="sig-name descname"><span class="pre">address64</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.AtCommandBase.address64" title="Permalink to this definition">¶</a></dt>
<dd><p>64-bit address of the device.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandBase.apply_changes">
<span class="sig-name descname"><span class="pre">apply_changes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#webserver.pydmodels.AtCommandBase.apply_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>If the changes should be applied.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandBase.at_command">
<span class="sig-name descname"><span class="pre">at_command</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.AtCommandBase.at_command" title="Permalink to this definition">¶</a></dt>
<dd><p>AT command name (2 characters).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandGetExecute">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">AtCommandGetExecute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address64</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">at_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_changes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.AtCommandGetExecute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.pydmodels.AtCommandBase" title="webserver.pydmodels.AtCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.pydmodels.AtCommandBase</span></code></a></p>
<p>Schema for AT command which gets a parameter or executes a command unrelated to any parameter.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandGetExecute.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.AtCommandGetExecute.value" title="Permalink to this definition">¶</a></dt>
<dd><p>AT command value.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">AtCommandResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.AtCommandResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Schema of the result of AT command request.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandResult.error">
<span class="sig-name descname"><span class="pre">error</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.AtCommandResult.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Error message. Present if <cite>status</cite> is <cite>error</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandResult.result">
<span class="sig-name descname"><span class="pre">result</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.AtCommandResult.result" title="Permalink to this definition">¶</a></dt>
<dd><p>Result of the command. Present if the command was of type get_parameter and <cite>status</cite> is <cite>ok</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandResult.status">
<span class="sig-name descname"><span class="pre">status</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.AtCommandResult.status" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>error</cite> and <cite>ok</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Describes if the command was successfully sent. Possible values</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">AtCommandSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address64</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">at_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_changes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.AtCommandSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.pydmodels.AtCommandBase" title="webserver.pydmodels.AtCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.pydmodels.AtCommandBase</span></code></a></p>
<p>Schema for AT command which sets a parameter.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandSet.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.AtCommandSet.value" title="Permalink to this definition">¶</a></dt>
<dd><p>New parameter value.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandWithType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">AtCommandWithType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address64</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">at_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_changes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.AtCommandWithType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.pydmodels.AtCommandBase" title="webserver.pydmodels.AtCommandBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.pydmodels.AtCommandBase</span></code></a></p>
<p>AT command with the type of the command.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandWithType.command_type">
<span class="sig-name descname"><span class="pre">command_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.AtCommandWithType.command_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of the command. Allowed values:
- <cite>get_parameter</cite> to read a parameter value
- <cite>set_parameter</cite> to set a parameter value
- <cite>execute_command</cite> to execute a command unrelated to any parameter.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.AtCommandWithType.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.AtCommandWithType.value" title="Permalink to this definition">¶</a></dt>
<dd><p>AT command value.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.DeviceInDiscoveryResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">DeviceInDiscoveryResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address64</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address16</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.DeviceInDiscoveryResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>A device in the list of discovered devices.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.DeviceInDiscoveryResult.address16">
<span class="sig-name descname"><span class="pre">address16</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.DeviceInDiscoveryResult.address16" title="Permalink to this definition">¶</a></dt>
<dd><p>16-bit address of the device.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.DeviceInDiscoveryResult.address64">
<span class="sig-name descname"><span class="pre">address64</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.DeviceInDiscoveryResult.address64" title="Permalink to this definition">¶</a></dt>
<dd><p>64-bit address of the device.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.DeviceInDiscoveryResult.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.DeviceInDiscoveryResult.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Node id of the device (NI parameter).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.DeviceInDiscoveryResult.role">
<span class="sig-name descname"><span class="pre">role</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.DeviceInDiscoveryResult.role" title="Permalink to this definition">¶</a></dt>
<dd><p>Role of the device in the network.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.DiscoveryResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">DiscoveryResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">devices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.DeviceInDiscoveryResult" title="webserver.pydmodels.DeviceInDiscoveryResult"><span class="pre">webserver.pydmodels.DeviceInDiscoveryResult</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.DiscoveryResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Schema for the result of discovery request.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.DiscoveryResult.devices">
<span class="sig-name descname"><span class="pre">devices</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.DeviceInDiscoveryResult" title="webserver.pydmodels.DeviceInDiscoveryResult"><span class="pre">webserver.pydmodels.DeviceInDiscoveryResult</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.DiscoveryResult.devices" title="Permalink to this definition">¶</a></dt>
<dd><p>List of discovered devices.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.Floor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">Floor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.NodeInFloor" title="webserver.pydmodels.NodeInFloor"><span class="pre">webserver.pydmodels.NodeInFloor</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.Floor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.pydmodels.FloorBase" title="webserver.pydmodels.FloorBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.pydmodels.FloorBase</span></code></a></p>
<p>A schema used for reading and modifying of the node.</p>
<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.Floor.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Config</span></span><a class="headerlink" href="#webserver.pydmodels.Floor.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.Floor.Config.orm_mode">
<span class="sig-name descname"><span class="pre">orm_mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#webserver.pydmodels.Floor.Config.orm_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.Floor.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#webserver.pydmodels.Floor.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Node id.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.FloorBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">FloorBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.NodeInFloor" title="webserver.pydmodels.NodeInFloor"><span class="pre">webserver.pydmodels.NodeInFloor</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.FloorBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Base class for a map (floor).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.FloorBase.height">
<span class="sig-name descname"><span class="pre">height</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#webserver.pydmodels.FloorBase.height" title="Permalink to this definition">¶</a></dt>
<dd><p>The height of the map.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.FloorBase.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.FloorBase.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the map.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.FloorBase.nodes">
<span class="sig-name descname"><span class="pre">nodes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.NodeInFloor" title="webserver.pydmodels.NodeInFloor"><span class="pre">webserver.pydmodels.NodeInFloor</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.FloorBase.nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Nodes present on the map.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.FloorBase.number">
<span class="sig-name descname"><span class="pre">number</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#webserver.pydmodels.FloorBase.number" title="Permalink to this definition">¶</a></dt>
<dd><p>The number used for sorting maps. If the maps are building floors, the number may be equal to floor number.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.FloorBase.width">
<span class="sig-name descname"><span class="pre">width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#webserver.pydmodels.FloorBase.width" title="Permalink to this definition">¶</a></dt>
<dd><p>The width of the map.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.FloorCreate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">FloorCreate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.NodeInFloor" title="webserver.pydmodels.NodeInFloor"><span class="pre">webserver.pydmodels.NodeInFloor</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.FloorCreate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.pydmodels.FloorBase" title="webserver.pydmodels.FloorBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.pydmodels.FloorBase</span></code></a></p>
<p>A schema used for creating nodes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.FloorCreate.height">
<span class="sig-name descname"><span class="pre">height</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#webserver.pydmodels.FloorCreate.height" title="Permalink to this definition">¶</a></dt>
<dd><p>The height of the map.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.FloorCreate.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.FloorCreate.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the map.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.FloorCreate.nodes">
<span class="sig-name descname"><span class="pre">nodes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.NodeInFloor" title="webserver.pydmodels.NodeInFloor"><span class="pre">webserver.pydmodels.NodeInFloor</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.FloorCreate.nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Nodes present on the map.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.FloorCreate.number">
<span class="sig-name descname"><span class="pre">number</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#webserver.pydmodels.FloorCreate.number" title="Permalink to this definition">¶</a></dt>
<dd><p>The number used for sorting maps. If the maps are building floors, the number may be equal to floor number.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.FloorCreate.width">
<span class="sig-name descname"><span class="pre">width</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#webserver.pydmodels.FloorCreate.width" title="Permalink to this definition">¶</a></dt>
<dd><p>The width of the map.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.MessageToXBee">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">MessageToXBee</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address64</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.MessageToXBee" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Schema for sending messages to an XBee device.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.MessageToXBee.address64">
<span class="sig-name descname"><span class="pre">address64</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.MessageToXBee.address64" title="Permalink to this definition">¶</a></dt>
<dd><p>64-bit address of the device.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.MessageToXBee.message">
<span class="sig-name descname"><span class="pre">message</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.MessageToXBee.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Base64-encoded message to send.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address64</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reading_configs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.ReadingConfigInNode" title="webserver.pydmodels.ReadingConfigInNode"><span class="pre">webserver.pydmodels.ReadingConfigInNode</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.pydmodels.NodeBase" title="webserver.pydmodels.NodeBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.pydmodels.NodeBase</span></code></a></p>
<p>Node schema used for reading and modyfying the node.</p>
<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.Node.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Config</span></span><a class="headerlink" href="#webserver.pydmodels.Node.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.Node.Config.orm_mode">
<span class="sig-name descname"><span class="pre">orm_mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#webserver.pydmodels.Node.Config.orm_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.Node.floor_id">
<span class="sig-name descname"><span class="pre">floor_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#webserver.pydmodels.Node.floor_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the floor the node belongs to.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.Node.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#webserver.pydmodels.Node.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Node id.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">NodeBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address64</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reading_configs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.ReadingConfigInNode" title="webserver.pydmodels.ReadingConfigInNode"><span class="pre">webserver.pydmodels.ReadingConfigInNode</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.NodeBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Base class for all Node objects. Node objects describe ZigBee network nodes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeBase.address64">
<span class="sig-name descname"><span class="pre">address64</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.NodeBase.address64" title="Permalink to this definition">¶</a></dt>
<dd><p>64-bit address of the node as a hexadecimal string.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeBase.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.NodeBase.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Node name.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeBase.reading_configs">
<span class="sig-name descname"><span class="pre">reading_configs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.ReadingConfigInNode" title="webserver.pydmodels.ReadingConfigInNode"><span class="pre">webserver.pydmodels.ReadingConfigInNode</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.NodeBase.reading_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>The readings related to the node.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeBase.x">
<span class="sig-name descname"><span class="pre">x</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#webserver.pydmodels.NodeBase.x" title="Permalink to this definition">¶</a></dt>
<dd><p>x coordinate of the node on the map.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeBase.y">
<span class="sig-name descname"><span class="pre">y</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#webserver.pydmodels.NodeBase.y" title="Permalink to this definition">¶</a></dt>
<dd><p>y coordinate of the node on the map.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeCreate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">NodeCreate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address64</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reading_configs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.ReadingConfigInNode" title="webserver.pydmodels.ReadingConfigInNode"><span class="pre">webserver.pydmodels.ReadingConfigInNode</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.NodeCreate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.pydmodels.NodeBase" title="webserver.pydmodels.NodeBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.pydmodels.NodeBase</span></code></a></p>
<p>Node schema used when adding a new node to the system.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeCreate.floor_id">
<span class="sig-name descname"><span class="pre">floor_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#webserver.pydmodels.NodeCreate.floor_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the floor the node belongs to.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeInFloor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">NodeInFloor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">address64</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reading_configs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.ReadingConfigInNode" title="webserver.pydmodels.ReadingConfigInNode"><span class="pre">webserver.pydmodels.ReadingConfigInNode</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">floor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.NodeInFloor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.pydmodels.NodeBase" title="webserver.pydmodels.NodeBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.pydmodels.NodeBase</span></code></a></p>
<p>Node schema when the node is part of a Floor object.</p>
<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeInFloor.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Config</span></span><a class="headerlink" href="#webserver.pydmodels.NodeInFloor.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeInFloor.Config.orm_mode">
<span class="sig-name descname"><span class="pre">orm_mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#webserver.pydmodels.NodeInFloor.Config.orm_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeInFloor.floor_id">
<span class="sig-name descname"><span class="pre">floor_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.NodeInFloor.floor_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the floor the node belongs to.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.NodeInFloor.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.NodeInFloor.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Node id.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.PasswordChange">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">PasswordChange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.PasswordChange" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Schema used for changing the password of the user which is currently logged in.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.PasswordChange.new_password">
<span class="sig-name descname"><span class="pre">new_password</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.PasswordChange.new_password" title="Permalink to this definition">¶</a></dt>
<dd><p>New password in plain text.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.PasswordChange.old_password">
<span class="sig-name descname"><span class="pre">old_password</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.PasswordChange.old_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Old password in plain text.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">ReadingConfigBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refresh_period</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_to_send</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">at_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">at_command_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">at_command_result_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.ReadingConfigBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Base class for ReadingConfig objects.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigBase.at_command">
<span class="sig-name descname"><span class="pre">at_command</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.ReadingConfigBase.at_command" title="Permalink to this definition">¶</a></dt>
<dd><p>The AT command which will be used for obtaining the reading value.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigBase.at_command_data">
<span class="sig-name descname"><span class="pre">at_command_data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.ReadingConfigBase.at_command_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Data for the AT command which will be used for obtaining the reading value.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigBase.at_command_result_format">
<span class="sig-name descname"><span class="pre">at_command_result_format</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.ReadingConfigBase.at_command_result_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format of the AT command result</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigBase.message_prefix">
<span class="sig-name descname"><span class="pre">message_prefix</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.ReadingConfigBase.message_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefix of the message containing the reading value.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigBase.message_to_send">
<span class="sig-name descname"><span class="pre">message_to_send</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.ReadingConfigBase.message_to_send" title="Permalink to this definition">¶</a></dt>
<dd><p>The message which will be sent to the device in order to obtain the reading value.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigBase.mode">
<span class="sig-name descname"><span class="pre">mode</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.ReadingConfigBase.mode" title="Permalink to this definition">¶</a></dt>
<dd><p>The mode of obtaining the reading.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigBase.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.ReadingConfigBase.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the reading.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigBase.refresh_period">
<span class="sig-name descname"><span class="pre">refresh_period</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.ReadingConfigBase.refresh_period" title="Permalink to this definition">¶</a></dt>
<dd><p>The period in which the reading is refreshed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigInNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">ReadingConfigInNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refresh_period</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_to_send</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">at_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">at_command_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">at_command_result_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.ReadingConfigInNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.pydmodels.ReadingConfigBase" title="webserver.pydmodels.ReadingConfigBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.pydmodels.ReadingConfigBase</span></code></a></p>
<p>ReadingConfig as a part of a Node object.</p>
<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigInNode.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Config</span></span><a class="headerlink" href="#webserver.pydmodels.ReadingConfigInNode.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigInNode.Config.orm_mode">
<span class="sig-name descname"><span class="pre">orm_mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#webserver.pydmodels.ReadingConfigInNode.Config.orm_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigInNode.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.ReadingConfigInNode.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id in the system.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.ReadingConfigInNode.node_id">
<span class="sig-name descname"><span class="pre">node_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.ReadingConfigInNode.node_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Id of the node the ReadingConfig belongs to.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.User">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">User</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disabled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.User" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.pydmodels.UserBase" title="webserver.pydmodels.UserBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.pydmodels.UserBase</span></code></a></p>
<p>A schema used for reading users in the system.</p>
<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.User.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Config</span></span><a class="headerlink" href="#webserver.pydmodels.User.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.User.Config.orm_mode">
<span class="sig-name descname"><span class="pre">orm_mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#webserver.pydmodels.User.Config.orm_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.User.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#webserver.pydmodels.User.id" title="Permalink to this definition">¶</a></dt>
<dd><p>User’s id.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.UserBase">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">UserBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disabled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.UserBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Base class for users of the system.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.UserBase.disabled">
<span class="sig-name descname"><span class="pre">disabled</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#webserver.pydmodels.UserBase.disabled" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the user is disabled.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.UserBase.role">
<span class="sig-name descname"><span class="pre">role</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.UserBase.role" title="Permalink to this definition">¶</a></dt>
<dd><p>Role of the user. Can be either “user” or “admin”.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.UserBase.username">
<span class="sig-name descname"><span class="pre">username</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.UserBase.username" title="Permalink to this definition">¶</a></dt>
<dd><p>User’s username.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.UserCreate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">UserCreate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disabled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.UserCreate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.pydmodels.UserBase" title="webserver.pydmodels.UserBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.pydmodels.UserBase</span></code></a></p>
<p>A schema used for adding users to the system.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.UserCreate.password">
<span class="sig-name descname"><span class="pre">password</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.UserCreate.password" title="Permalink to this definition">¶</a></dt>
<dd><p>User password in plain text.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.UserModify">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">UserModify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disabled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.UserModify" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#webserver.pydmodels.UserBase" title="webserver.pydmodels.UserBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">webserver.pydmodels.UserBase</span></code></a></p>
<p>A schema used for modifying users in the system.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.UserModify.password">
<span class="sig-name descname"><span class="pre">password</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.UserModify.password" title="Permalink to this definition">¶</a></dt>
<dd><p>New password of the user. Value None means that the password should not be changed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.UserSession">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">UserSession</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.UserSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Schema describing a user’s session.</p>
<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.UserSession.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Config</span></span><a class="headerlink" href="#webserver.pydmodels.UserSession.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.UserSession.Config.orm_mode">
<span class="sig-name descname"><span class="pre">orm_mode</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#webserver.pydmodels.UserSession.Config.orm_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.UserSession.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.UserSession.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Session ID (token)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.UserSession.user_id">
<span class="sig-name descname"><span class="pre">user_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.UserSession.user_id" title="Permalink to this definition">¶</a></dt>
<dd><p>User id.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.XBeeMessageResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">XBeeMessageResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.XBeeMessageResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Result of a request to send a message to an XBee device.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.XBeeMessageResult.message">
<span class="sig-name descname"><span class="pre">message</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.XBeeMessageResult.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Error message. Present if <cite>status</cite> is <cite>error</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.XBeeMessageResult.status">
<span class="sig-name descname"><span class="pre">status</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.XBeeMessageResult.status" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>error</cite> and <cite>ok</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Describes if the message was successfully executed. Possible values</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.XBeeWaiting">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">XBeeWaiting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.XBeeWaiting" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Schema for sending messages a request to wait for the coordinator handler. Used for testing purposes.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.XBeeWaiting.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#webserver.pydmodels.XBeeWaiting.time" title="Permalink to this definition">¶</a></dt>
<dd><p>The time to wait.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.pydmodels.XBeeWaitingResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.pydmodels.</span></span><span class="sig-name descname"><span class="pre">XBeeWaitingResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.pydmodels.XBeeWaitingResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pydantic.main.BaseModel</span></code></p>
<p>Schema of the result the waiting request.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.XBeeWaitingResult.message">
<span class="sig-name descname"><span class="pre">message</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#webserver.pydmodels.XBeeWaitingResult.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Error message. Present if <cite>status</cite> is <cite>error</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.XBeeWaitingResult.status">
<span class="sig-name descname"><span class="pre">status</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#webserver.pydmodels.XBeeWaitingResult.status" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>error</cite> and <cite>ok</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Describes if the command was successfully executed. Possible values</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.pydmodels.XBeeWaitingResult.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#webserver.pydmodels.XBeeWaitingResult.time" title="Permalink to this definition">¶</a></dt>
<dd><p>Time the coordinator handler was supposed to wait.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-webserver.run_server">
<span id="webserver-run-server-module"></span><h2>webserver.run_server module<a class="headerlink" href="#module-webserver.run_server" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-webserver.xbeesrv">
<span id="webserver-xbeesrv-module"></span><h2>webserver.xbeesrv module<a class="headerlink" href="#module-webserver.xbeesrv" title="Permalink to this headline">¶</a></h2>
<p>Functions for communication with the coordinator handler.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="webserver.xbeesrv.MessageParseError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.xbeesrv.</span></span><span class="sig-name descname"><span class="pre">MessageParseError</span></span><a class="headerlink" href="#webserver.xbeesrv.MessageParseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>An error raised when the message received from the coordinator handler is invalid.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="webserver.xbeesrv.WebsocketMessageSender">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.xbeesrv.</span></span><span class="sig-name descname"><span class="pre">WebsocketMessageSender</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">websocket</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">starlette.websockets.WebSocket</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.xbeesrv.WebsocketMessageSender" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for receiving notifications from the coordinator handler and sending them to the connected websockets.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="webserver.xbeesrv.WebsocketMessageSender.websocket">
<span class="sig-name descname"><span class="pre">websocket</span></span><a class="headerlink" href="#webserver.xbeesrv.WebsocketMessageSender.websocket" title="Permalink to this definition">¶</a></dt>
<dd><p>the websocket to which the notifications are sent.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>starlette.websockets.WebSocket</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="webserver.xbeesrv.WebsocketMessageSender.run">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#webserver.xbeesrv.WebsocketMessageSender.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the sender. The function returns when the socket if closed.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="webserver.xbeesrv.XBeeServerError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.xbeesrv.</span></span><span class="sig-name descname"><span class="pre">XBeeServerError</span></span><a class="headerlink" href="#webserver.xbeesrv.XBeeServerError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>An error raised by the functions in the module whenever the communication with the coordinator handler fails.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.xbeesrv.at_command">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.xbeesrv.</span></span><span class="sig-name descname"><span class="pre">at_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#webserver.pydmodels.AtCommandGetExecute" title="webserver.pydmodels.AtCommandGetExecute"><span class="pre">webserver.pydmodels.AtCommandGetExecute</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#webserver.pydmodels.AtCommandSet" title="webserver.pydmodels.AtCommandSet"><span class="pre">webserver.pydmodels.AtCommandSet</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#webserver.pydmodels.AtCommandResult" title="webserver.pydmodels.AtCommandResult"><span class="pre">webserver.pydmodels.AtCommandResult</span></a></span></span><a class="headerlink" href="#webserver.xbeesrv.at_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a request to the coordinator handler to send an AT command to a device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command_type</strong> – type of the AT command. The allowed names are
- <cite>get_parameter</cite> to read a parameter value
- <cite>set_parameter</cite> to set a parameter value
- <cite>execute_command</cite> to execute a command unrelated to any parameter.</p></li>
<li><p><strong>command</strong> – object describing a the command to send.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An object describing if the AT command was successfuly sent.
When <cite>command_type</cite> equals get_parameter and the command was successfully sent it also contains the result of the command.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#webserver.xbeesrv.XBeeServerError" title="webserver.xbeesrv.XBeeServerError"><strong>XBeeServerError</strong></a> – when an error occurs while communicating with the coordinator handler.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.xbeesrv.discover_network">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.xbeesrv.</span></span><span class="sig-name descname"><span class="pre">discover_network</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#webserver.pydmodels.DiscoveryResult" title="webserver.pydmodels.DiscoveryResult"><span class="pre">webserver.pydmodels.DiscoveryResult</span></a></span></span><a class="headerlink" href="#webserver.xbeesrv.discover_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a discovery request to the coordinator handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>ZigBee network discovery results received from the coordinator handler.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#webserver.xbeesrv.XBeeServerError" title="webserver.xbeesrv.XBeeServerError"><strong>XBeeServerError</strong></a> – when an error occurs while communicating with the coordinator handler.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.xbeesrv.request_response">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.xbeesrv.</span></span><span class="sig-name descname"><span class="pre">request_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="headerlink" href="#webserver.xbeesrv.request_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a request to the coordinator handler and waits for the response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>request</strong> – the object which will be sent to the coordinator handler.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the response of the coordinator handler.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#webserver.xbeesrv.MessageParseError" title="webserver.xbeesrv.MessageParseError"><strong>MessageParseError</strong></a> – when the response from the server is invalid.</p></li>
<li><p><strong>asyncio.TimeoutError</strong> – when the time <cite>DEVICE_TIMEOUT</cite> was exceeded.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.xbeesrv.send_b64_data">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.xbeesrv.</span></span><span class="sig-name descname"><span class="pre">send_b64_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address64</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#webserver.pydmodels.XBeeMessageResult" title="webserver.pydmodels.XBeeMessageResult"><span class="pre">webserver.pydmodels.XBeeMessageResult</span></a></span></span><a class="headerlink" href="#webserver.xbeesrv.send_b64_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a request to the coordinator handler to send a message to the given node in the ZigBee network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>address64</strong> – 64-bit addres of the node as hexadecimal string.</p></li>
<li><p><strong>message</strong> – base64-encoded message to send.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An object describing if the message was successfuly sent.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#webserver.xbeesrv.XBeeServerError" title="webserver.xbeesrv.XBeeServerError"><strong>XBeeServerError</strong></a> – when an error occurs while communicating with the coordinator handler.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.xbeesrv.unify_exceptions">
<span class="sig-prename descclassname"><span class="pre">webserver.xbeesrv.</span></span><span class="sig-name descname"><span class="pre">unify_exceptions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#webserver.xbeesrv.unify_exceptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator which catches all the exceptions and re-raises them as <a class="reference internal" href="#webserver.xbeesrv.MessageParseError" title="webserver.xbeesrv.MessageParseError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MessageParseError</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="webserver.xbeesrv.wait">
<em class="property"><span class="k"><span class="pre">async</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">webserver.xbeesrv.</span></span><span class="sig-name descname"><span class="pre">wait</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#webserver.pydmodels.XBeeWaitingResult" title="webserver.pydmodels.XBeeWaitingResult"><span class="pre">webserver.pydmodels.XBeeWaitingResult</span></a></span></span><a class="headerlink" href="#webserver.xbeesrv.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a request to the coordinator handler to wait for some time. Used for testing purposes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time</strong> – time the coordinator should wait. If the time is too long, a timeout may occur.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An object describing if the request has been successfully executed.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#webserver.xbeesrv.XBeeServerError" title="webserver.xbeesrv.XBeeServerError"><strong>XBeeServerError</strong></a> – when an error occurs while communicating with the coordinator handler.</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">webserver package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-webserver.config">webserver.config module</a></li>
<li><a class="reference internal" href="#module-webserver.custom_config">webserver.custom_config module</a></li>
<li><a class="reference internal" href="#module-webserver.database">webserver.database module</a></li>
<li><a class="reference internal" href="#module-webserver.dbmodels">webserver.dbmodels module</a></li>
<li><a class="reference internal" href="#module-webserver.dbsrv">webserver.dbsrv module</a></li>
<li><a class="reference internal" href="#module-webserver.main">webserver.main module</a></li>
<li><a class="reference internal" href="#module-webserver.pwdcontext">webserver.pwdcontext module</a></li>
<li><a class="reference internal" href="#module-webserver.pydmodels">webserver.pydmodels module</a></li>
<li><a class="reference internal" href="#module-webserver.run_server">webserver.run_server module</a></li>
<li><a class="reference internal" href="#module-webserver.xbeesrv">webserver.xbeesrv module</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/webserver.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ZigBee Monitor Server  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">webserver package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Dominik Borys.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.2.
    </div>
  </body>
</html>