(function(e){function t(t){for(var n,o,i=t[0],d=t[1],u=t[2],l=0,m=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);c&&c(t);while(m.length)m.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var d=a[i];0!==r[d]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},s=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=d;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"0443":function(e,t,a){e.exports=a.p+"img/map.3da8990f.svg"},"064c":function(e,t,a){},"0ada":function(e,t,a){},"0c89":function(e,t,a){e.exports=a.p+"img/marker-icon-red.d2b3e000.png"},"160f":function(e,t,a){},1708:function(e,t,a){"use strict";a("3956")},1879:function(e,t,a){},"1a5b":function(e,t,a){e.exports=a.p+"img/people.172ce8ec.svg"},"1a62":function(e,t,a){},"1fa4":function(e,t,a){"use strict";a("064c")},2479:function(e,t,a){"use strict";a("3e7d")},3956:function(e,t,a){},"3a68":function(e,t,a){"use strict";a("848b")},"3ab5":function(e,t,a){e.exports=a.p+"img/arrow-repeat.560b4f36.svg"},"3c39":function(e,t,a){},"3e7d":function(e,t,a){},4429:function(e,t,a){"use strict";a("e904")},4450:function(e,t,a){"use strict";a("e26a")},4692:function(e,t,a){},4694:function(e,t,a){"use strict";a("a397")},"472c":function(e,t,a){},"515b":function(e,t,a){e.exports=a.p+"img/plan1.637d2f4c.jpg"},5313:function(e,t,a){"use strict";a("586e")},"558f":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("main-layout")],1)},s=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-container"},[a("app-header"),e.isOneColumnMode?e._e():a("div",{staticClass:"below-header"},[a("section",{staticClass:"left-pane"},["view"===e.mode?[a("layer-list",{attrs:{layers:e.layerNames},model:{value:e.activeLayerName,callback:function(t){e.activeLayerName=t},expression:"activeLayerName"}}),a("node-list",{attrs:{nodes:e.activeLayerNodes}})]:e._e(),"newLayer"===e.mode||"editLayer"===e.mode?[a("layer-edit")]:e._e(),"newNode"===e.mode||"editNode"===e.mode?[a("node-edit")]:e._e(),"selectNode"===e.mode?[a("node-select")]:e._e(),"newReadingConfig"===e.mode||"editReadingConfig"===e.mode?[a("parameter-edit")]:e._e()],2),a("main",{staticClass:"main"},["map"===e.mainDisplayMode?a("map-display",{attrs:{layer:e.activeLayer}}):e._e(),"messages"===e.mainDisplayMode?a("message-display",{attrs:{node:e.$store.state.displayedMessagesNode}}):e._e()],1)]),e.isOneColumnMode?a("div",{staticClass:"below-header-one-column"},["login"===e.mode?a("login-form"):e._e(),"changePassword"===e.mode?a("password-change-form"):e._e(),"manageUsers"===e.mode?a("user-management"):e._e(),"showUser"===e.mode?a("user-details"):e._e(),"newUser"===e.mode||"editUser"===e.mode?a("user-edit"):e._e()],1):e._e()],1)},i=[],d=a("1da1"),u=(a("96cf"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("h2",{staticClass:"layer-list-header"},[e._v("Mapy")]),e.layers.length>0?a("ul",{staticClass:"layer-list"},e._l(e.layers,(function(t){return a("li",{key:t,class:{"layer-list-item-selected":t===e.selectedLayer},on:{click:function(a){return e.layerClick(t)}}},[e._v(" "+e._s(t)+" ")])})),0):a("div",[e._v(" W systemie nie znajdują się żadne mapy. ")])])}),c=[],l={name:"LayerList",props:{layers:{type:Array,default:[]},value:{type:String,default:""}},data:function(){return{selectedLayer:this.value}},methods:{layerClick:function(e){this.selectedLayer=e,this.$emit("input",this.selectedLayer)}}},m=l,p=(a("1708"),a("2877")),f=Object(p["a"])(m,u,c,!1,null,"0a850652",null),g=f.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("h2",{staticClass:"node-list-header"},[e._v("Węzły")]),e.nodes.length>0?a("ul",{staticClass:"node-list"},e._l(e.nodes,(function(t){return a("node-item",{key:t.id,attrs:{node:t},nativeOn:{click:function(a){return e.showMessages(t)}}})})),1):a("div",[e._v(" Na wybranej mapie nie znajdują się żadne węzły. ")])])},v=[],y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"node-item",class:{"node-item-good":e.isGood,"node-item-bad":e.isBad}},[a("h3",{staticClass:"node-item-header"},[e._v(e._s(e.node.name))]),a("div",[e._v(" "+e._s(e.node.address64)+" ")]),a("div",{class:{"status-text-recognized":e.isGood,"status-text-unrecognized":e.isBad}},[e._v(" "+e._s(e.status)+" ")])])},w=[],b={name:"NodeItem",props:{node:Object},data:function(){return{}},computed:{status:function(){return this.node.discovered?"Rozpoznane":"Nierozpoznane"},isGood:function(){return this.node.discovered},isBad:function(){return!this.node.discovered}},methods:{}},C=b,x=(a("1fa4"),Object(p["a"])(C,y,w,!1,null,"00dd219e",null)),_=x.exports,k={name:"NodeList",components:{NodeItem:_},props:{nodes:Array},methods:{showMessages:function(e){this.$store.commit("setDisplayedMessagesNode",e),this.$store.commit("setMainDisplayMode","messages")}}},N=k,M=(a("5313"),Object(p["a"])(N,h,v,!1,null,"654bf93f",null)),P=M.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map-display-container"},[e.mapVisible?a("div",{staticClass:"map-header"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.showTooltips,expression:"showTooltips"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showTooltips)?e._i(e.showTooltips,null)>-1:e.showTooltips},on:{change:function(t){var a=e.showTooltips,n=t.target,r=!!n.checked;if(Array.isArray(a)){var s=null,o=e._i(a,s);n.checked?o<0&&(e.showTooltips=a.concat([s])):o>-1&&(e.showTooltips=a.slice(0,o).concat(a.slice(o+1)))}else e.showTooltips=r}}}),e._v(" Pokaż opisy czujników ")])]):e._e(),a("div",{staticClass:"map-container",class:{"edited-node-mode":!!e.editedNode}},[e.mapVisible?a("l-map",{ref:"map",staticStyle:{height:"100%","z-index":"10"},attrs:{"min-zoom":e.minZoom,crs:e.crs},on:{click:e.mapClick}},[a("l-image-overlay",{attrs:{url:e.layer.imgurl,bounds:e.layerBounds}}),e._l(e.nodesToDisplay,(function(t){return a("l-marker",{key:t.name,attrs:{"lat-lng":{lng:t.x,lat:t.y},icon:e.getIcon(t)}},[a("node-tooltip",{attrs:{node:t,visible:e.showTooltips}})],1)})),e.editedNodeWasPlaced?a("l-marker",{attrs:{"lat-lng":{lng:e.editedNode.x,lat:e.editedNode.y},icon:e.editedNodeIcon}},[a("node-tooltip",{attrs:{node:e.editedNode,visible:e.showTooltips}})],1):e._e()],2):e._e(),e.editedNode?a("div",{staticClass:"place-node-message"},[e._v(" Kliknij na mapie, aby umieścić węzeł. ")]):e._e()],1)])},E=[],D=(a("4de4"),a("d81d"),a("e11e")),j=a("2699"),I=a("e464"),T=a("4e2b"),$=a("f60f"),L=a("635f"),z=a("31dc"),S=(a("6cc5"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("l-tooltip",{ref:"lTooltipComponent",attrs:{options:{direction:"top",permanent:!0,offset:[0,-35],opacity:1}},on:{ready:e.tooltipReady}},[a("b",[e._v(e._s(e.node.name))]),a("br"),e._l(e.node.readingConfigs,(function(t){return a("div",{key:t.name},[e._v(" "+e._s(t.name)+": "+e._s(null===t.lastReading?"---":t.lastReading)+" ")])}))],2)}),O=[],U={name:"NodeTooltip",components:{LTooltip:z["a"]},data:function(){return{tooltipMapObject:null}},props:{node:Object,visible:{type:Boolean,default:!0}},methods:{tooltipReady:function(e){this.tooltipMapObject=e}},watch:{visible:function(e,t){try{e?this.$refs.lTooltipComponent.parentContainer.mapObject.openTooltip():this.$refs.lTooltipComponent.parentContainer.mapObject.closeTooltip()}catch(a){console.error(a)}}}},A=U,F=Object(p["a"])(A,S,O,!1,null,null,null),W=F.exports;delete D["Icon"].Default.prototype._getIconUrl,D["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var B=[25,41],H=[12,41],V={red:Object(D["icon"])({iconUrl:a("0c89"),iconSize:B,iconAnchor:H}),green:Object(D["icon"])({iconUrl:a("a988"),iconSize:B,iconAnchor:H}),purple:Object(D["icon"])({iconUrl:a("8ec0"),iconSize:B,iconAnchor:H}),gray:Object(D["icon"])({iconUrl:a("6b39"),iconSize:B,iconAnchor:H})},q={components:{LMap:j["a"],LImageOverlay:I["a"],LMarker:T["a"],LPopup:$["a"],LPolyline:L["a"],LTooltip:z["a"],NodeTooltip:W},props:{layer:Object},data:function(){return{showTooltips:!0,minZoom:-50,crs:D["CRS"].Simple}},computed:{mode:function(){return this.$store.getters.mode},layerBounds:function(){return[[0,0],[this.layer.height,this.layer.width]]},layerUrl:function(){return this.layer?this.layer.imgurl:null},mapVisible:function(){return this.layer&&this.layer.imgurl},nodesToDisplay:function(){var e=this;return this.editedNode?this.layer.nodes.filter((function(t){return!e.isNodeEdited(t)})):this.layer.nodes},editedNode:function(){return this.$store.state.editedNode},editedNodeWasPlaced:function(){return this.editedNode&&"number"===typeof this.editedNode.x&&"number"===typeof this.editedNode.y},editedNodeIcon:function(){return V.purple}},methods:{isNodeEdited:function(e){return!!this.editedNode&&(null!==this.editedNode.id&&e.id===this.editedNode.id||null!==this.editedNode.tempId&&e.tempId===this.editedNode.tempId)},getIcon:function(e){return"view"===this.mode?!0===e.discovered?V.green:!1===e.discovered?V.red:V.gray:this.isNodeEdited(e)?V.purple:V.gray},mapClick:function(e){if(this.editedNode){var t={x:e.latlng.lng,y:e.latlng.lat};this.$store.commit("setCoordinatesOfEditedNode",t)}},fitBounds:function(){this.$nextTick((function(){this.layerUrl&&this.$refs.map&&this.$refs.map.mapObject.fitBounds(this.layerBounds,{animate:!1})}))}},watch:{layerUrl:function(e,t){this.fitBounds()}},mounted:function(){this.fitBounds()}},Z=q,K=(a("4429"),Object(p["a"])(Z,R,E,!1,null,"1c319bee",null)),G=K.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"layer-edit-container",on:{submit:function(t){return t.preventDefault(),e.saveLayer.apply(null,arguments)}}},[a("div",{staticClass:"layer-edit-main"},[a("h2",{staticClass:"side-panel-h2"},[e._v(e._s(e.headerText))]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"layerNameInput"}},[e._v("Nazwa mapy")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.layerName,expression:"layerName"}],staticClass:"text-input",class:{"text-input-invalid":null!==e.layerNameError},attrs:{type:"text",id:"layerNameInput",placeholder:"np. Parter"},domProps:{value:e.layerName},on:{input:function(t){t.target.composing||(e.layerName=t.target.value)}}}),null!==e.layerNameError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.layerNameError))]):e._e()]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"floorNoInput"}},[e._v("Poziom")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.floorNo,expression:"floorNo"}],staticClass:"text-input",class:{"text-input-invalid":null!==e.floorNoError},attrs:{type:"text",id:"floorNoInput",placeholder:"np. 0"},domProps:{value:e.floorNo},on:{input:function(t){t.target.composing||(e.floorNo=t.target.value)}}}),null!==e.floorNoError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.floorNoError))]):e._e()]),a("div",[a("h3",{staticClass:"side-panel-h3"},[e._v("Plan")]),a("label",{staticClass:"file-input-button",attrs:{for:"floorPlanInput"}},[e._v(e._s(e.imageInputText))]),a("input",{ref:"floorPlanFile",staticClass:"file-input-hidden",attrs:{type:"file",accept:"image/*",id:"floorPlanInput"},on:{change:e.loadFloorPlan}}),null!==e.layerImageError?a("div",{staticClass:"error-message"},[e._v(e._s(e.layerImageError))]):e._e()]),e.isMapVisible?a("div",[a("h3",{staticClass:"side-panel-h3"},[e._v("Węzły sieci")]),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.addNode}},[e._v("Dodaj węzeł")]),a("ul",{staticClass:"node-list-edit"},e._l(e.layer.nodes,(function(t){return a("node-item-edit-mode",{key:e.makeNodeKey(t),attrs:{node:t},on:{"edit-node":function(a){return e.editNode(t)},"delete-node":function(a){return e.deleteNode(t)}}})})),1)]):e._e()]),a("div",{staticClass:"layer-edit-footer"},[a("div",{staticClass:"layer-edit-footer-buttons"},[a("button",{staticClass:"button footer-button",attrs:{type:"button"},on:{click:e.discardLayer}},[e._v("Anuluj")]),a("button",{staticClass:"button footer-button",attrs:{type:"submit"}},[e._v("Zapisz")])]),a("div",[e.formSubmitAttempted&&!e.isFormValid?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.generalError))]):e._e()])])])},X=[],Y=(a("b0c0"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("2b3d"),a("498a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"node-item",on:{click:e.editClick}},[n("div",{staticClass:"node-item-content"},[n("h3",{staticClass:"node-item-header"},[e._v(e._s(e.node.name))]),n("div",[e._v(" "+e._s(e.node.address64)+" ")])]),n("button",{staticClass:"close-button",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.deleteClick.apply(null,arguments)}}},[n("img",{attrs:{src:a("af22"),width:"25",height:"25"}})])])}),Q=[],ee={name:"NodeItemEditMode",props:{node:Object},data:function(){return{}},computed:{},methods:{editClick:function(){this.$emit("edit-node")},deleteClick:function(){this.$emit("delete-node")}}},te=ee,ae=(a("f484"),Object(p["a"])(te,Y,Q,!1,null,"d993ec52",null)),ne=ae.exports,re=a("2909"),se=(a("ac1f"),a("1276"),a("a15b"),a("4d90"),{encodeTextMessage:oe,encodeHexMessage:ie,decodeMessageToText:de,decodeMessageToHex:ue,decodeToDecBigEndian:ce,isNumeric:le});function oe(e){return btoa(e)}function ie(e){var t=e.split(/\s+/).map((function(e){return parseInt(e,16)})),a=t.every((function(e){return!isNaN(e)&&e>=0&&e<=255}));if(!a)throw new Error("Invalid hex string");var n=t.map((function(e){return String.fromCharCode(e)})).join("");return btoa(n)}function de(e){return atob(e)}function ue(e){var t=atob(e);return Object(re["a"])(t).map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(" ")}function ce(e){var t=atob(e);return Object(re["a"])(t).map((function(e){return e.charCodeAt(0)})).reduce((function(e,t){return t+(e<<8)}))}function le(e){var t="string"===typeof e||"number"===typeof e;return t&&!isNaN(e)&&!isNaN(parseFloat(e))}var me={name:"LayerEdit",components:{NodeItemEditMode:ne},props:{},data:function(){return{keepRatio:!0,image:null,layerNameError:null,floorNoError:null,layerImageError:null,generalError:null,formSubmitAttempted:!1}},computed:{newLayerMode:function(){return"newLayer"===this.$store.getters.mode},editLayerMode:function(){return"editLayer"===this.$store.getters.mode},headerText:function(){return this.newLayerMode?"Nowa mapa":"Edytuj mapę"},imageInputText:function(){return this.newLayerMode?"Dodaj plik z planem":"Załaduj nowy plan"},layer:function(){return this.$store.state.editedLayer},isMapVisible:function(){return this.layer&&this.layer.imgurl},isFormValid:function(){return null===this.layerNameError&&null===this.floorNoError&&null===this.layerImageError},layerName:{get:function(){return this.layer.name},set:function(e){this.validateLayerName(e),this.$store.commit("setEditedLayerParam",{name:"name",value:e})}},floorNo:{get:function(){return this.layer.number},set:function(e){this.validateFloorNo(e),this.$store.commit("setEditedLayerParam",{name:"number",value:e})}}},methods:{makeNodeKey:function(e){var t="number"===typeof e.id?e.id.toString():"",a="number"===typeof e.tempId?e.tempId.toString():"";return t+"_"+a},addNode:function(){this.$store.commit("prepareNewNode"),this.$store.commit("pushMode","newNode")},editNode:function(e){this.$store.commit("prepareNodeForEdit",e),this.$store.commit("pushMode","editNode")},deleteNode:function(e){this.$store.commit("deleteNode",e)},loadFloorPlan:function(e){var t=e.target.files[0];if(t){this.layerImageError=null;URL.createObjectURL(t);this.$store.dispatch("loadLayerImage",t)}this.$store.commit("setEditedLayerParam",{name:"isNewImage",value:!0})},saveLayer:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkIfValid()){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.$store.dispatch("saveEditedLayer");case 5:e.$store.commit("setActiveLayer",e.layer.name),e.$store.commit("previousMode"),e.$store.commit("setEditedLayer",null),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),e.generalError="Wystąpił błąd podczas zapisywania mapy: "+t.t0.message,console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},checkIfValid:function(){this.formSubmitAttempted=!0,this.validateLayerName(),this.validateFloorNo(),this.validateLayerImage();var e=this.isFormValid;return this.generalError=e?null:"Proszę poprawić błędy.",e},validateLayerName:function(e){return"undefined"===typeof e&&(e=this.layerName),"string"===typeof e&&e.trim().length>0?(this.layerNameError=null,!0):(this.layerNameError="Nazwa mapy nie może być pusta.",!1)},validateFloorNo:function(e){return"undefined"===typeof e&&(e=this.floorNo),se.isNumeric(e)?(this.floorNoError=null,!1):(this.floorNoError="Poziom musi być liczbą.",!0)},validateLayerImage:function(){return this.isMapVisible?(this.layerImageError=null,!0):(this.layerImageError="Proszę załadować plik z planem.",!1)},discardLayer:function(){this.$store.commit("previousMode"),this.$store.commit("setEditedLayer",null)}},mounted:function(){this.isNewImage=!1}},pe=me,fe=(a("93e5"),Object(p["a"])(pe,J,X,!1,null,"d3ea087a",null)),ge=fe.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"node-edit-container",on:{submit:function(t){return t.preventDefault(),e.saveNode.apply(null,arguments)}}},[a("div",{staticClass:"node-edit-main"},[a("h2",{staticClass:"side-panel-h2"},[e._v(e._s(e.headerText))]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"nodeNameInput"}},[e._v("Nazwa węzła")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nodeName,expression:"nodeName"}],staticClass:"text-input",class:{"text-input-invalid":null!==e.nodeNameError},attrs:{type:"text",id:"nodeNameInput",placeholder:"np. czujnik dymu"},domProps:{value:e.nodeName},on:{input:function(t){t.target.composing||(e.nodeName=t.target.value)}}}),null!==e.nodeNameError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.nodeNameError))]):e._e()]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"nodeAddressInput"}},[e._v("64-bitowy adres węzła")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nodeAddress,expression:"nodeAddress"}],staticClass:"text-input",class:{"text-input-invalid":null!==e.nodeAddressError},attrs:{type:"text",id:"nodeAddressInput",placeholder:"np. 0123456789ABCDEF"},domProps:{value:e.nodeAddress},on:{input:function(t){t.target.composing||(e.nodeAddress=t.target.value)}}}),null!==e.nodeAddressError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.nodeAddressError))]):e._e(),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.searchDevice}},[e._v("Szukaj urządzenia")])]),a("div",[a("h3",{staticClass:"side-panel-h3"},[e._v("Pozycja węzła na planie")]),e._v(" Kliknij na planie, aby wskazać pozycję węzła. "),null!==e.nodePositionError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.nodePositionError))]):e._e()]),a("div",[a("h3",{staticClass:"side-panel-h3"},[e._v("Wyświetlane wartości")]),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.addReadingConfig}},[e._v("Dodaj wartość")]),a("ul",{staticClass:"parameter-list-edit"},e._l(e.node.readingConfigs,(function(t){return a("node-parameter",{key:e.makeParameterKey(t),attrs:{readingConfig:t},on:{"edit-config":function(a){return e.editConfig(t)},"delete-config":function(a){return e.deleteConfig(t)}}})})),1)])]),a("div",{staticClass:"node-edit-footer"},[a("div",{staticClass:"node-edit-footer-buttons"},[a("button",{staticClass:"button footer-button",attrs:{type:"button"},on:{click:e.discardNode}},[e._v("Anuluj")]),a("button",{staticClass:"button footer-button",attrs:{type:"submit"}},[e._v(e._s(e.submitButtonText))])]),a("div",[e.formSubmitAttempted&&!e.isFormValid?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.generalError))]):e._e()])])])},ve=[],ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"node-item",on:{click:e.editClick}},[n("div",{staticClass:"node-item-content"},[n("h3",{staticClass:"node-item-header"},[e._v(e._s(e.readingConfig.name))])]),n("button",{staticClass:"close-button",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.deleteClick.apply(null,arguments)}}},[n("img",{attrs:{src:a("af22"),width:"25",height:"25"}})])])},we=[],be={name:"NodeParameter",props:{readingConfig:Object},data:function(){return{}},methods:{editClick:function(){this.$emit("edit-config")},deleteClick:function(){this.$emit("delete-config")}}},Ce=be,xe=(a("b590"),Object(p["a"])(Ce,ye,we,!1,null,"e0cd4986",null)),_e=xe.exports;function ke(e){if("string"!==typeof e)return!1;var t=/^[0-9a-fA-F]{16}$/;return t.test(e)}var Ne={name:"NodeEdit",components:{NodeItemEditMode:ne,NodeParameter:_e},props:{},data:function(){return{nodeNameError:null,nodeAddressError:null,nodePositionError:null,generalError:null,formSubmitAttempted:!1}},computed:{newNodeMode:function(){return"newNode"===this.$store.getters.mode},headerText:function(){return this.newNodeMode?"Dodawanie węzła":"Edycja węzła"},submitButtonText:function(){return this.newNodeMode?"Dodaj":"Zapisz"},node:function(){return this.$store.state.editedNode},nodeX:function(){return this.node.x},nodeName:{get:function(){return this.node.name},set:function(e){this.validateNodeName(e),this.$store.commit("setEditedNodeParam",{name:"name",value:e})}},nodeAddress:{get:function(){return this.node.address64},set:function(e){this.validateNodeAddress(e),this.$store.commit("setEditedNodeParam",{name:"address64",value:e})}},isFormValid:function(){return null===this.nodeNameError&&null===this.nodeAddressError&&null===this.nodePositionError}},methods:{makeParameterKey:function(e){var t="number"===typeof e.id?e.id.toString():"",a="number"===typeof e.tempId?e.tempId.toString():"";return t+"_"+a},searchDevice:function(){this.$store.commit("pushMode","selectNode")},addReadingConfig:function(){this.$store.commit("prepareNewReadingConfig"),this.$store.commit("pushMode","newReadingConfig")},editConfig:function(e){this.$store.commit("prepareReadingConfigForEdit",e),this.$store.commit("pushMode","editReadingConfig")},deleteConfig:function(e){this.$store.commit("deleteReadingConfig",e)},validateNodeName:function(e){return"undefined"===typeof e&&(e=this.nodeName),"string"===typeof e&&e.trim().length>0?(this.nodeNameError=null,!0):(this.nodeNameError="Nazwa węzła nie może być pusta.",!1)},validateNodeAddress:function(e){return"undefined"===typeof e&&(e=this.nodeAddress),ke(e)?(this.nodeAddressError=null,!0):(this.nodeAddressError="Adres powinien być liczbą szesnastkową składającą się z 16 cyfr.",!1)},validateNodePosition:function(){var e="number"===typeof this.node.x&&"number"===typeof this.node.y;return e?(this.nodePositionError=null,!0):(this.nodePositionError="Proszę zaznaczyć pozycję węzła na mapie",!1)},checkIfValid:function(){this.formSubmitAttempted=!0,this.validateNodeName(),this.validateNodeAddress(),this.validateNodePosition();var e=this.isFormValid;return this.generalError=e?null:"Proszę poprawić błędy.",e},saveNode:function(){this.checkIfValid()&&(this.$store.commit("saveEditedNode"),this.$store.commit("previousMode"))},discardNode:function(){this.$store.commit("discardEditedNode"),this.$store.commit("previousMode","editLayer")}},watch:{nodeX:function(e){this.validateNodePosition()}},mounted:function(){this.isNewImage=!1}},Me=Ne,Pe=(a("a657"),Object(p["a"])(Me,he,ve,!1,null,"77fc50a4",null)),Re=Pe.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"message-display-container"},[a("div",{staticClass:"message-display-header"},[a("h2",{staticClass:"node-name-header"},[e._v(" "+e._s(e.node.name)+" ")]),a("label",{staticClass:"mode-radio-item"},[e._v(" Text "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.displayMode,expression:"displayMode"}],attrs:{type:"radio",value:"text",name:"radioMessageDisplayMode",id:"radioModeText"},domProps:{checked:e._q(e.displayMode,"text")},on:{change:function(t){e.displayMode="text"}}})]),a("label",{staticClass:"mode-radio-item"},[e._v(" Hex "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.displayMode,expression:"displayMode"}],attrs:{type:"radio",value:"hex",name:"radioMessageDisplayMode",id:"radioModeHex"},domProps:{checked:e._q(e.displayMode,"hex")},on:{change:function(t){e.displayMode="hex"}}})])]),a("div",{ref:"messagesContainer",staticClass:"message-display-messages"},e._l(e.messagesToDisplay,(function(t){return a("zigbee-message",{key:t.tempId,attrs:{message:t,mode:e.displayMode},on:{"size-change":e.scrollNextTickIfAtBottom}})})),1),a("div",{staticClass:"message-display-footer"},[a("div",{staticClass:"writing-mode-container"},[a("label",{staticClass:"mode-radio-item"},[e._v(" Wyślij wiadomość "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.writingMode,expression:"writingMode"}],attrs:{type:"radio",value:"message",name:"radioWritingMode"},domProps:{checked:e._q(e.writingMode,"message")},on:{change:function(t){e.writingMode="message"}}})]),a("label",{staticClass:"mode-radio-item"},[e._v(" Odczytaj parametr "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.writingMode,expression:"writingMode"}],attrs:{type:"radio",value:"getParameter",name:"radioWritingMode"},domProps:{checked:e._q(e.writingMode,"getParameter")},on:{change:function(t){e.writingMode="getParameter"}}})]),a("label",{staticClass:"mode-radio-item"},[e._v(" Zapisz parametr "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.writingMode,expression:"writingMode"}],attrs:{type:"radio",value:"setParameter",name:"radioWritingMode"},domProps:{checked:e._q(e.writingMode,"setParameter")},on:{change:function(t){e.writingMode="setParameter"}}})]),a("label",{staticClass:"mode-radio-item"},[e._v(" Wykonaj rozkaz "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.writingMode,expression:"writingMode"}],attrs:{type:"radio",value:"executeCommand",name:"radioWritingMode"},domProps:{checked:e._q(e.writingMode,"executeCommand")},on:{change:function(t){e.writingMode="executeCommand"}}})])]),"message"===e.writingMode?a("div",{staticClass:"message-display-inputs"},[a("label",{staticClass:"mode-radio-item"},[e._v(" Text "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messageWriteFormat,expression:"messageWriteFormat"}],attrs:{type:"radio",value:"text",name:"radioMessageWriteFormat",id:"radioMessageWriteFormatText"},domProps:{checked:e._q(e.messageWriteFormat,"text")},on:{change:function(t){e.messageWriteFormat="text"}}})]),a("label",{staticClass:"mode-radio-item"},[e._v(" Hex "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messageWriteFormat,expression:"messageWriteFormat"}],attrs:{type:"radio",value:"hex",name:"radioMessageWriteFormat",id:"radioMessageWriteFormatHex"},domProps:{checked:e._q(e.messageWriteFormat,"hex")},on:{change:function(t){e.messageWriteFormat="hex"}}})]),a("div",{staticClass:"message-input-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.messageToSend,expression:"messageToSend"}],staticClass:"text-input message-input",attrs:{type:"text"},domProps:{value:e.messageToSend},on:{input:function(t){t.target.composing||(e.messageToSend=t.target.value)}}})]),a("div",{staticClass:"button-send-container"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.sendMessage}},[e._v("Wyślij")])])]):e._e(),"getParameter"===e.writingMode||"setParameter"===e.writingMode||"executeCommand"===e.writingMode?a("div",{staticClass:"at-command-container"},[a("div",{staticClass:"at-command-item"},[a("label",{staticClass:"at-data-label",attrs:{for:"atCommandName"}},[e._v("Komenda AT")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.atCommandName,expression:"atCommandName"}],staticClass:"text-input at-command-input",attrs:{type:"text",id:"atCommandName"},domProps:{value:e.atCommandName},on:{input:function(t){t.target.composing||(e.atCommandName=t.target.value)}}})]),a("div",{staticClass:"at-command-item"},[a("div",[e._v(" Typ danych ")]),a("div",{staticClass:"at-data-mode-container"},[a("label",{directives:[{name:"show",rawName:"v-show",value:"setParameter"!==e.writingMode,expression:"writingMode !== 'setParameter'"}],staticClass:"mode-radio-item"},[e._v(" Brak "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.atDataMode,expression:"atDataMode"}],attrs:{type:"radio",value:"none",name:"atDataMode"},domProps:{checked:e._q(e.atDataMode,"none")},on:{change:function(t){e.atDataMode="none"}}})]),a("label",{staticClass:"mode-radio-item"},[e._v(" Text "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.atDataMode,expression:"atDataMode"}],attrs:{type:"radio",value:"text",name:"atDataMode"},domProps:{checked:e._q(e.atDataMode,"text")},on:{change:function(t){e.atDataMode="text"}}})]),a("label",{staticClass:"mode-radio-item"},[e._v(" Hex "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.atDataMode,expression:"atDataMode"}],attrs:{type:"radio",value:"hex",name:"atDataMode"},domProps:{checked:e._q(e.atDataMode,"hex")},on:{change:function(t){e.atDataMode="hex"}}})])])]),a("div",{staticClass:"at-command-item"},[a("label",{staticClass:"at-data-label",attrs:{for:"atCommandData"}},[e._v("Dane")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.atCommandData,expression:"atCommandData"}],staticClass:"text-input at-data-input",attrs:{type:"text",disabled:"none"===e.atDataMode,id:"atCommandData"},domProps:{value:e.atCommandData},on:{input:function(t){t.target.composing||(e.atCommandData=t.target.value)}}})]),a("div",{staticClass:"at-command-item"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.sendAtCommand}},[e._v("Wyślij")])])]):e._e(),null!==e.messageError?a("div",{staticClass:"error-message message-error-div"},[e._v(" "+e._s(e.messageError)+" ")]):e._e()])])},De=[],je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"zigbee-message",class:e.boundClasses},[a("div",{staticClass:"zigbee-message-top-row"},[a("div",{staticClass:"message-field-time"},[e._v(" "+e._s(e.messageTimeFormatted)+" ")]),a("div",{staticClass:"message-field-status",class:e.statusFieldClasses},[e._v(" "+e._s(e.messageStatus)+" ")])]),e.showNodeInfo?a("div",{staticClass:"zigbee-message-header"},[a("b",[e._v(e._s(e.message.nodeName))]),e._v(" "+e._s(e.message.address64)+" ")]):e._e(),"sent"===e.message.type||"received"===e.message.type?a("div",{staticClass:"zigbee-message-content"},["text"===e.mode?[e._v(" "+e._s(e.messageAsText)+" ")]:e._e(),"hex"===e.mode?[e._v(" "+e._s(e.messageAsHex)+" ")]:e._e()],2):e._e(),"at"===e.message.type?a("div",{staticClass:"zigbee-message-content"},[a("b",[e._v("Komenda AT")]),e._v(": "+e._s(e.message.atCommand)),a("br"),null!==e.message.value?[a("b",[e._v("Dane:")]),e._v(" "+e._s(e.atCommandData)),a("br")]:e._e(),null!==e.message.result?[a("b",[e._v("Wynik:")]),e._v(" "+e._s(e.atCommandResult)+" ")]:e._e()],2):e._e(),e.isError&&null!==e.message.error?a("div",{staticClass:"zigbee-message-error-row"},[e._v(" "+e._s(e.message.error)+" ")]):e._e()])},Ie=[],Te=(a("99af"),{name:"ZigbeeMessage",props:{message:Object,mode:{type:String,default:"text",validator:function(e){return-1!==["text","hex"].indexOf(e)}},showNodeInfo:{type:Boolean,default:!1}},data:function(){return{}},computed:{boundClasses:function(){return{"zigbee-message-left":"received"===this.message.type,"zigbee-message-right":"sent"===this.message.type||"at"===this.message.type,"zigbee-message-success":"acknowledged"===this.message.status,"zigbee-message-error":this.isError,"zigbee-message-neutral":"received"===this.message.type}},statusFieldClasses:function(){return{"status-success":"acknowledged"===this.message.status,"status-error":this.isError,"status-neutral":"received"===this.message.type}},messageAsText:function(){return this.decodeTextMessage(this.message.message)},messageAsHex:function(){return this.decodeHexMessage(this.message.message)},isError:function(){return"serverError"===this.message.status||"sendingError"===this.message.status},messageError:function(){return this.message.error},messageTimeFormatted:function(){var e=new Date(this.message.timestamp),t=e.getDate().toString().padStart(2,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getFullYear().toString(),r=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0"),o=e.getSeconds().toString().padStart(2,"0");return"".concat(t,".").concat(a,".").concat(n," ").concat(r,":").concat(s,":").concat(o)},messageStatus:function(){var e=this.message;if("received"===e.type)return"Odebrano";if("sent"===e.type||"at"===e.type){if("sending"===e.status)return"Wysyłam...";if("serverError"===e.status||"sendingError"===e.status)return"Błąd";if("acknowledged"===e.status)return"Potwierdzono"}return""},atCommandData:function(){return"text"===this.message.format?this.decodeTextMessage(this.message.value):"hex"===this.message.format?this.decodeHexMessage(this.message.value):""},atCommandResult:function(){if(!this.message.result)return"";var e=this.decodeHexMessage(this.message.result),t=this.decodeTextMessage(this.message.result);return"".concat(e," (").concat(t,")")}},methods:{decodeTextMessage:function(e){return atob(e)},decodeHexMessage:function(e){var t=atob(e);return Object(re["a"])(t).map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(" ")}},watch:{atCommandResult:function(){this.$emit("size-change")},messageError:function(){this.$emit("size-change")}}}),$e=Te,Le=(a("2479"),Object(p["a"])($e,je,Ie,!1,null,"5198f234",null)),ze=Le.exports,Se={name:"MessageDisplay",components:{ZigbeeMessage:ze},props:{node:Object},data:function(){return{writingMode:"message",messageWriteFormat:"text",atDataMode:"none",displayMode:"text",atCommandName:"",atCommandData:"",messageToSend:"",messageError:null}},computed:{messagesToDisplay:function(){var e=this;return this.$store.state.messages.filter((function(t){return t.address64===e.node.address64}))},messagesToDisplayLength:function(){return this.messagesToDisplay.length}},methods:{sendMessage:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.getEncodedMessage(),n={type:"sent",address64:e.node.address64,status:"sending",message:a},e.messageToSend="",t.next=6,e.$store.dispatch("sendMessage",n);case 6:e.messageError=null,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),e.messageError=t.t0.message,console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getEncodedMessage:function(){return"text"===this.messageWriteFormat?this.encodeTextMessage(this.messageToSend):"hex"===this.messageWriteFormat?this.encodeHexMessage(this.messageToSend):void 0},encodeTextMessage:function(e){return btoa(e)},encodeHexMessage:function(e){var t=e.split(/\s+/).map((function(e){return parseInt(e,16)})),a=t.every((function(e){return!isNaN(e)&&e>=0&&e<=255}));if(!a)throw new Error("Nieprawidłowy format danych heksadecymalnych. Poprawny format: 6e 73 6f");var n=t.map((function(e){return String.fromCharCode(e)})).join("");return btoa(n)},getEncodedCommandValue:function(){return"text"===this.atDataMode?this.encodeTextMessage(this.atCommandData):"hex"===this.atDataMode?this.encodeHexMessage(this.atCommandData):null},getAtCommandType:function(){return"getParameter"===this.writingMode?"get_parameter":"setParameter"===this.writingMode?"set_parameter":"executeCommand"===this.writingMode?"execute_command":""},sendAtCommand:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={commandType:e.getAtCommandType(),address64:e.node.address64,atCommand:e.atCommandName,value:e.getEncodedCommandValue(),format:e.atDataMode},t.next=4,e.$store.dispatch("sendAtCommand",a);case 4:e.messageError=null,t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),e.messageError=t.t0.message,console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},showMap:function(){this.$store.commit("setMainDisplayMode","map")},scrollToBottom:function(){var e=this.$refs.messagesContainer;e.scrollTop=e.scrollHeight-e.clientHeight},scrollNextTickIfAtBottom:function(){var e=200,t=this.$refs.messagesContainer;t.scrollTop+t.clientHeight>t.scrollHeight-e&&this.$nextTick((function(){this.scrollToBottom()}))}},watch:{writingMode:function(e){"setParameter"===e?"none"===this.atDataMode&&(this.atDataMode="text"):this.atDataMode="none"},atDataMode:function(e){"none"===e&&(this.atCommandData="")},messagesToDisplayLength:function(e){this.scrollNextTickIfAtBottom()}},mounted:function(){this.scrollToBottom()}},Oe=Se,Ue=(a("3a68"),Object(p["a"])(Oe,Ee,De,!1,null,"32395d3e",null)),Ae=Ue.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"header"},[n("h1",{staticClass:"page-title",attrs:{tabindex:"0"},on:{click:e.showMainMode}},[e._v("Monitor sieci ZigBee")]),n("nav",[e.isViewMode&&e.isMapView?[n("button",{staticClass:"header-button",attrs:{type:"button"},on:{click:e.refresh}},[n("img",{staticClass:"manage-users-icon",attrs:{src:a("3ab5")}}),e._v(" Odśwież ")]),n("dropdown-menu",{scopedSlots:e._u([{key:"toggle-button",fn:function(){return[n("img",{staticClass:"manage-users-icon",attrs:{src:a("f571")}}),e._v(" Konfiguracja ")]},proxy:!0},{key:"content",fn:function(){return[n("button",{staticClass:"dropdown-list-button",attrs:{type:"button"},on:{click:e.editNewLayer}},[e._v("Dodaj mapę")]),n("button",{staticClass:"dropdown-list-button",attrs:{type:"button",disabled:!e.isActiveLayer},on:{click:e.editActiveLayer}},[e._v("Edytuj mapę")]),n("button",{staticClass:"dropdown-list-button",attrs:{type:"button",disabled:!e.isActiveLayer},on:{click:e.deleteActiveLayer}},[e._v("Usuń mapę")])]},proxy:!0}],null,!1,938213374)})]:e._e(),e.isUsersManagement||!e.isMapView?n("button",{staticClass:"header-button",attrs:{type:"button"},on:{click:e.showMainMode}},[n("img",{staticClass:"manage-users-icon",attrs:{src:a("0443")}}),e._v(" Mapa ")]):e._e(),e.isAdmin&&!e.isUsersManagement?n("button",{staticClass:"header-button",attrs:{type:"button"},on:{click:e.manageUsers}},[n("img",{staticClass:"manage-users-icon",attrs:{src:a("1a5b")}}),e._v(" Użytkownicy ")]):e._e(),e.isLoggedIn?[n("dropdown-menu",{scopedSlots:e._u([{key:"toggle-button",fn:function(){return[n("img",{staticClass:"user-icon",attrs:{src:a("dcfa")}}),n("span",{staticClass:"button-username"},[e._v(e._s(e.user?e.user.username:""))])]},proxy:!0},{key:"content",fn:function(){return[n("button",{staticClass:"dropdown-list-button",attrs:{type:"button"},on:{click:e.changePassword}},[e._v("Zmień hasło")]),n("button",{staticClass:"dropdown-list-button",attrs:{type:"button"},on:{click:e.logout}},[e._v("Wyloguj")])]},proxy:!0}],null,!1,2772526998)})]:e._e()],2)])},We=[],Be=(a("caad"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dropdown-menu",on:{focusin:e.dropdownFocusIn,focusout:e.dropdownFocusOut}},[a("button",{staticClass:"header-button dropdown-toggle",attrs:{type:"button"},on:{click:e.toggleDropdown}},[e._t("toggle-button")],2),e.expanded?a("div",{staticClass:"dropdown-content",on:{click:e.collapseDropdown}},[e._t("content")],2):e._e()])}),He=[],Ve={name:"DropdownMenu",data:function(){return{expanded:!1}},methods:{toggleDropdown:function(){this.expanded=!this.expanded},collapseDropdown:function(){this.expanded=!1},dropdownFocusIn:function(){this.focusOutTimer&&clearTimeout(this.focusOutTimer)},dropdownFocusOut:function(){var e=this;this.focusOutTimer=setTimeout((function(){e.expanded=!1}),0)}}},qe=Ve,Ze=Object(p["a"])(qe,Be,He,!1,null,"e176d60e",null),Ke=Ze.exports,Ge={name:"AppHeader",components:{DropdownMenu:Ke},data:function(){return{}},computed:{isViewMode:function(){return"view"===this.$store.getters.mode},isUsersManagement:function(){var e=["changePassword","manageUsers","showUser","newUser","editUser"];return e.includes(this.$store.getters.mode)},isMapView:function(){return"map"===this.$store.state.mainDisplayMode},isLoggedIn:function(){return null!==this.$store.state.user},isAdmin:function(){return this.user&&"admin"===this.user.role},user:function(){return this.$store.state.user},isActiveLayer:function(){return!!this.$store.getters.activeLayer}},methods:{showMainMode:function(){this.$store.commit("pushMode","view"),this.$store.commit("setMainDisplayMode","map")},editNewLayer:function(){this.$store.commit("prepareNewLayer"),this.$store.commit("pushMode","newLayer")},editActiveLayer:function(){this.$store.commit("prepareLayerForEdit",this.$store.getters.activeLayer),this.$store.commit("pushMode","editLayer")},deleteActiveLayer:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("deleteLayer",e.$store.getters.activeLayer);case 2:case"end":return t.stop()}}),t)})))()},refresh:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.target.disabled=!0,a.next=4,t.$store.dispatch("downloadDiscoveryResults");case 4:return a.prev=4,e.target.disabled=!1,a.finish(4);case 7:case"end":return a.stop()}}),a,null,[[0,,4,7]])})))()},logout:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("logout");case 3:e.$store.commit("replaceMode","login"),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},changePassword:function(){this.$store.commit("pushMode","changePassword")},manageUsers:function(){this.$store.commit("pushMode","manageUsers")}}},Je=Ge,Xe=(a("bc82"),Object(p["a"])(Je,Fe,We,!1,null,"3833a38e",null)),Ye=Xe.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"login-form-container",on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[a("h2",{staticClass:"side-panel-h2 login-header"},[e._v("Logowanie")]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"usernameInput"}},[e._v("Użytkownik")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"text-input",attrs:{type:"text",id:"usernameInput"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"passwordInput"}},[e._v("Hasło")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"text-input",attrs:{type:"password",id:"passwordInput"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e.isError?a("div",{staticClass:"error-message"},[e._v(" "+e._s(e.errorMsg)+" ")]):e._e(),e._m(0)])},et=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"buttons-right"},[a("button",{staticClass:"button",attrs:{type:"submit"}},[e._v("Zaloguj")])])}],tt={name:"LoginForm",components:{},props:{},data:function(){return{username:"",password:"",isError:!1,errorMsg:""}},methods:{login:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={username:e.username,password:e.password},t.prev=1,t.next=4,e.$store.dispatch("login",a);case 4:return t.next=6,e.$store.dispatch("loadDataAfterLogin");case 6:t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0),e.showError("Nieprawidłowa nazwa użytkownika lub hasło.");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},showError:function(e){this.errorMsg=e,this.isError=!0}}},at=tt,nt=(a("9c54"),Object(p["a"])(at,Qe,et,!1,null,"29d563b0",null)),rt=nt.exports,st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"password-form-container",on:{submit:function(t){return t.preventDefault(),e.changePassword.apply(null,arguments)}}},[a("h2",{staticClass:"side-panel-h2 login-header"},[e._v("Zmiana hasła")]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"oldPasswordInput"}},[e._v("Stare hasło")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPassword,expression:"oldPassword"}],staticClass:"text-input",attrs:{type:"password",id:"oldPasswordInput"},domProps:{value:e.oldPassword},on:{input:function(t){t.target.composing||(e.oldPassword=t.target.value)}}})]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"newPasswordInput"}},[e._v("Nowe hasło")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"text-input",attrs:{type:"password",id:"newPasswordInput"},domProps:{value:e.newPassword},on:{input:function(t){t.target.composing||(e.newPassword=t.target.value)}}})]),e.isError?a("div",{staticClass:"error-message"},[e._v(" "+e._s(e.errorMsg)+" ")]):e._e(),a("div",{staticClass:"buttons-right"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.backToPreviousMode}},[e._v("Anuluj")]),a("button",{staticClass:"button",attrs:{type:"submit"}},[e._v("Zmień hasło")])]),e.passwordChangeSuccessful?a("div",[e._v(" Hasło zostało zmienione. ")]):e._e()])},ot=[],it={name:"PasswordChangeForm",data:function(){return{oldPassword:"",newPassword:"",isError:!1,errorMsg:"",passwordChangeSuccessful:!1}},methods:{changePassword:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={oldPassword:e.oldPassword,newPassword:e.newPassword},t.prev=1,t.next=4,e.$store.dispatch("changePassword",a);case 4:e.passwordChangeSuccessful=!0,setTimeout(e.logout,2e3),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0),e.showError("Wystąpił błąd podczas zmiany hasła.");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},showError:function(e){this.errorMsg=e,this.isError=!0},backToPreviousMode:function(){this.$store.commit("previousMode")},logout:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("logout");case 2:e.$store.commit("replaceMode","login");case 3:case"end":return t.stop()}}),t)})))()}}},dt=it,ut=(a("fb2c"),Object(p["a"])(dt,st,ot,!1,null,"48ce3dd2",null)),ct=ut.exports,lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"node-select-container"},[a("div",{staticClass:"heading-back-group"},[a("button",{staticClass:"heading-back-button",attrs:{type:"button"},on:{click:e.back}}),a("h2",{staticClass:"heading-back-heading"},[e._v("Wykryte węzły")])]),a("section",[a("h3",[e._v("Nowe węzły")]),e.nodesNotInSystem.length>0?a("ul",{staticClass:"node-list-select"},e._l(e.nodesNotInSystem,(function(t){return a("node-item-select-mode",{key:t.address64,attrs:{node:t},on:{"select-node":function(a){return e.selectNode(t)}}})})),1):a("div",[e._v(" Nie znaleziono nowych węzłów. ")])]),a("section",[a("h3",[e._v("Węzły obecne w systemie")]),e.nodesInSystem.length>0?a("ul",{staticClass:"node-list-select"},e._l(e.nodesInSystem,(function(t){return a("node-item-select-mode",{key:t.address64,attrs:{node:t},on:{"select-node":function(a){return e.selectNode(t)}}})})),1):a("div",[e._v(" Nie wykryto węzłów obecnych w systemie. ")])])])},mt=[],pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"node-item",on:{click:e.nodeSelectClick}},[a("div",[a("b",[e._v("Id urządzenia: ")]),e._v(e._s(e.node.id)+" ")]),a("div",[a("b",[e._v("Adres 16-bit: ")]),e._v(" "+e._s(e.node.address16)+" ")]),a("div",[a("b",[e._v("Adres 64-bit: ")]),e._v(" "+e._s(e.node.address64)+" ")]),a("div",[a("b",[e._v("Typ węzła: ")]),e._v(e._s(e.node.role)+" ")])])},ft=[],gt={name:"NodeItemSelectMode",props:{node:Object},data:function(){return{}},computed:{},methods:{nodeSelectClick:function(){this.$emit("select-node")}}},ht=gt,vt=(a("d85b"),Object(p["a"])(ht,pt,ft,!1,null,"0ef4f73c",null)),yt=vt.exports,wt={name:"NodeSelect",components:{NodeItemSelectMode:yt},props:{},data:function(){return{}},computed:{nodesNotInSystem:function(){return this.$store.getters.discoveredNodesNotInSystem},nodesInSystem:function(){return this.$store.getters.discoveredNodesInSystem}},methods:{selectNode:function(e){this.$store.commit("setEditedNodeParam",{name:"address64",value:e.address64}),this.$store.commit("previousMode")},back:function(){this.$store.commit("previousMode")}}},bt=wt,Ct=(a("4694"),Object(p["a"])(bt,lt,mt,!1,null,"4e823703",null)),xt=Ct.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"parameter-edit-container",on:{submit:function(t){return t.preventDefault(),e.saveParameter.apply(null,arguments)}}},[a("div",{staticClass:"parameter-edit-main"},[a("h2",{staticClass:"side-panel-h2"},[e._v(e._s(e.headerText))]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"parameterNameInput"}},[e._v("Nazwa wartości")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.parameterName,expression:"parameterName"}],staticClass:"text-input",class:{"text-input-invalid":null!==e.parameterNameError},attrs:{type:"text",id:"parameterNameInput"},domProps:{value:e.parameterName},on:{input:function(t){t.target.composing||(e.parameterName=t.target.value)}}}),null!==e.parameterNameError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.parameterNameError))]):e._e()]),a("div",{staticClass:"radio-set-container"},[a("div",{staticClass:"radio-set-legend"},[e._v("Sposób odczytu wartości")]),a("div",{staticClass:"radio-set-content"},[a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.readMode,expression:"readMode"}],staticClass:"radio-input",attrs:{type:"radio",value:"listen",name:"parameterReadMode",id:"parameterReadModeListen","aria-describedby":"modeListenDescription"},domProps:{checked:e._q(e.readMode,"listen")},on:{change:function(t){e.readMode="listen"}}}),a("label",{attrs:{for:"parameterReadModeListen"}},[e._v("Oczekuj na wiadomość")])]),a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.readMode,expression:"readMode"}],staticClass:"radio-input",attrs:{type:"radio",value:"send",name:"parameterReadMode",id:"parameterReadModeSend","aria-describedby":"modeSendDescription"},domProps:{checked:e._q(e.readMode,"send")},on:{change:function(t){e.readMode="send"}}}),a("label",{attrs:{for:"parameterReadModeSend"}},[e._v("Wyślij wiadomość i oczekuj na odpowiedź")])]),a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.readMode,expression:"readMode"}],staticClass:"radio-input",attrs:{type:"radio",value:"at",name:"parameterReadMode",id:"parameterReadModeAt","aria-describedby":"modeAtDescription"},domProps:{checked:e._q(e.readMode,"at")},on:{change:function(t){e.readMode="at"}}}),a("label",{attrs:{for:"parameterReadModeAt"}},[e._v("Odczytaj parametr AT")])])]),null!==e.readModeError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.readModeError))]):e._e()]),a("div",{staticClass:"option-description"},["listen"===e.readMode?a("span",{attrs:{id:"modeListenDescription"}},[e._v(" Aplikacja będzie oczekiwać na wiadomości przysłane z urządzenia o zadanym formacie. ")]):e._e(),"send"===e.readMode?a("span",{attrs:{id:"modeSendDescription"}},[e._v(" Aplikacja będzie wysyłać co określony czas wiadomość od urządzenia a następnie oczekiwał na odpowiedź o zadanym formacie. ")]):e._e(),"at"===e.readMode?a("span",{attrs:{id:"modeAtDescription"}},[e._v(" Aplikacja będzie wysyłać komendę AT do urządzenia i wyświetlać jej wynik. ")]):e._e()]),"listen"===e.readMode?a("div",[a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"messagePrefixInput"}},[e._v("Początek oczekiwanej wiadomości")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messagePrefix,expression:"messagePrefix"}],staticClass:"text-input",attrs:{type:"text",id:"messagePrefixInput"},domProps:{value:e.messagePrefix},on:{input:function(t){t.target.composing||(e.messagePrefix=t.target.value)}}})])]):e._e(),"send"===e.readMode?a("div",[a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"messageToSendInput"}},[e._v("Wiadomość do wysłania w celu odczytu wartości")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messageToSend,expression:"messageToSend"}],staticClass:"text-input",attrs:{type:"text",id:"messageToSendInput"},domProps:{value:e.messageToSend},on:{input:function(t){t.target.composing||(e.messageToSend=t.target.value)}}})]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"messageRefreshPeriodInput"}},[e._v("Czas odświeżania w sekundach")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.refreshPeriod,expression:"refreshPeriod"}],staticClass:"text-input refresh-time-input",class:{"text-input-invalid":null!==e.refreshPeriodError},attrs:{type:"text",id:"messageRefreshPeriodInput"},domProps:{value:e.refreshPeriod},on:{input:function(t){t.target.composing||(e.refreshPeriod=t.target.value)}}}),null!==e.refreshPeriodError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.refreshPeriodError))]):e._e()]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"receivedMessagePrefixInput"}},[e._v("Początek oczekiwanej wiadomości")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.messagePrefix,expression:"messagePrefix"}],staticClass:"text-input",attrs:{type:"text",id:"receivedMessagePrefixInput"},domProps:{value:e.messagePrefix},on:{input:function(t){t.target.composing||(e.messagePrefix=t.target.value)}}})])]):e._e(),"at"===e.readMode?a("div",[a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"at-data-label",attrs:{for:"atCommandName"}},[e._v("Nazwa komendy AT")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.atCommand,expression:"atCommand"}],staticClass:"text-input at-command-input",class:{"text-input-invalid":null!==e.atCommandNameError},attrs:{type:"text",id:"atCommandName",maxlength:"2"},domProps:{value:e.atCommand},on:{input:function(t){t.target.composing||(e.atCommand=t.target.value)}}}),null!==e.atCommandNameError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.atCommandNameError))]):e._e()]),a("div",[a("div",{staticClass:"radio-set-legend"},[e._v("Format danych komendy AT")]),a("div",{staticClass:"radio-set-content"},[a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.atCommandFormat,expression:"atCommandFormat"}],staticClass:"radio-input",attrs:{type:"radio",name:"atDataMode",id:"atDataModeNone",value:"none"},domProps:{checked:e._q(e.atCommandFormat,"none")},on:{change:function(t){e.atCommandFormat="none"}}}),a("label",{attrs:{for:"atDataModeNone"}},[e._v("Brak danych")])]),a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.atCommandFormat,expression:"atCommandFormat"}],staticClass:"radio-input",attrs:{type:"radio",name:"atDataMode",id:"atDataModeText",value:"text"},domProps:{checked:e._q(e.atCommandFormat,"text")},on:{change:function(t){e.atCommandFormat="text"}}}),a("label",{attrs:{for:"atDataModeText"}},[e._v("Dane w formacie tekstowym")])]),a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.atCommandFormat,expression:"atCommandFormat"}],staticClass:"radio-input",attrs:{type:"radio",name:"atDataMode",id:"atDataModeHex",value:"hex"},domProps:{checked:e._q(e.atCommandFormat,"hex")},on:{change:function(t){e.atCommandFormat="hex"}}}),a("label",{attrs:{for:"atDataModeHex"}},[e._v("Dane w formacie heksadecymalnym")])])])]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"at-data-label",attrs:{for:"atCommandData"}},[e._v("Dane komendy AT")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.atCommandData,expression:"atCommandData"}],staticClass:"text-input",attrs:{type:"text",disabled:"none"===e.atCommandFormat,id:"atCommandData"},domProps:{value:e.atCommandData},on:{input:function(t){t.target.composing||(e.atCommandData=t.target.value)}}})]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"atRefreshPeriodInput"}},[e._v("Czas odświeżania w sekundach")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.refreshPeriod,expression:"refreshPeriod"}],staticClass:"text-input refresh-time-input",class:{"text-input-invalid":null!==e.refreshPeriodError},attrs:{type:"text",id:"atRefreshPeriodInput"},domProps:{value:e.refreshPeriod},on:{input:function(t){t.target.composing||(e.refreshPeriod=t.target.value)}}}),null!==e.refreshPeriodError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.refreshPeriodError))]):e._e()]),a("div",[a("div",{staticClass:"radio-set-legend"},[e._v("Format wyniku komendy")]),a("div",{staticClass:"radio-set-content"},[a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.atCommandResultFormat,expression:"atCommandResultFormat"}],staticClass:"radio-input",attrs:{type:"radio",name:"atCommandResponseFormat",id:"atCommandResponseFormatText",value:"text"},domProps:{checked:e._q(e.atCommandResultFormat,"text")},on:{change:function(t){e.atCommandResultFormat="text"}}}),a("label",{attrs:{for:"atCommandResponseFormatText"}},[e._v("Dane tekstowe")])]),a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.atCommandResultFormat,expression:"atCommandResultFormat"}],staticClass:"radio-input",attrs:{type:"radio",name:"atCommandResponseFormat",id:"atCommandResponseFormatDec",value:"dec"},domProps:{checked:e._q(e.atCommandResultFormat,"dec")},on:{change:function(t){e.atCommandResultFormat="dec"}}}),a("label",{attrs:{for:"atCommandResponseFormatDec"}},[e._v("Liczba dziesiętna")])]),a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.atCommandResultFormat,expression:"atCommandResultFormat"}],staticClass:"radio-input",attrs:{type:"radio",name:"atCommandResponseFormat",id:"atCommandResponseFormatHex",value:"hex"},domProps:{checked:e._q(e.atCommandResultFormat,"hex")},on:{change:function(t){e.atCommandResultFormat="hex"}}}),a("label",{attrs:{for:"atCommandResponseFormatHex"}},[e._v("Dane w formacie heksadecymalnym")])])]),null!==e.resultFormatError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.resultFormatError))]):e._e()])]):e._e()]),a("div",{staticClass:"parameter-edit-footer"},[a("div",{staticClass:"parameter-edit-footer-buttons"},[a("button",{staticClass:"button footer-button",attrs:{type:"button"},on:{click:e.discardChanges}},[e._v("Anuluj")]),a("button",{staticClass:"button footer-button",attrs:{type:"submit"}},[e._v(e._s(e.submitButtonText))])]),a("div",[e.formSubmitAttempted&&!e.isFormValid?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.generalError))]):e._e()])])])},kt=[],Nt={name:"ParameterEdit",components:{},props:{},data:function(){return{atCommandFormat:"none",rawMessagePrefix:"",rawMessageToSend:"",rawCommandData:"",parameterNameError:null,readModeError:null,refreshPeriodError:null,atCommandNameError:null,resultFormatError:null,generalError:null,formSubmitAttempted:!1}},computed:{readingConfig:function(){return this.$store.state.editedReadingConfig},parameterName:{get:function(){return this.readingConfig.name},set:function(e){this.validateParameterName(e),this.$store.commit("setEditedReadingConfigParam",{name:"name",value:e})}},readMode:{get:function(){return this.readingConfig.mode},set:function(e){this.validateReadMode(e),this.$store.commit("setEditedReadingConfigParam",{name:"mode",value:e})}},messagePrefix:{get:function(){return null===this.readingConfig.messagePrefix?"":atob(this.readingConfig.messagePrefix)},set:function(e){this.$store.commit("setEditedReadingConfigParam",{name:"messagePrefix",value:btoa(e)})}},messageToSend:{get:function(){return null===this.readingConfig.messageToSend?"":atob(this.readingConfig.messageToSend)},set:function(e){this.$store.commit("setEditedReadingConfigParam",{name:"messageToSend",value:btoa(e)})}},refreshPeriod:{get:function(){return this.readingConfig.refreshPeriod},set:function(e){this.validateRefreshPeriod(e),this.$store.commit("setEditedReadingConfigParam",{name:"refreshPeriod",value:e})}},atCommand:{get:function(){return this.readingConfig.atCommand},set:function(e){this.validateAtCommandName(e),this.$store.commit("setEditedReadingConfigParam",{name:"atCommand",value:e})}},atCommandData:{get:function(){return"text"===this.atCommandFormat?se.decodeMessageToText(this.readingConfig.atCommandData):"hex"===this.atCommandFormat?se.decodeMessageToHex(this.readingConfig.atCommandData):null},set:function(e){var t=this.getEncodedCommandData(e);this.$store.commit("setEditedReadingConfigParam",{name:"atCommandData",value:t})}},atCommandResultFormat:{get:function(){return this.readingConfig.atCommandResultFormat},set:function(e){this.validateResultFormat(e),this.$store.commit("setEditedReadingConfigParam",{name:"atCommandResultFormat",value:e})}},newConfigMode:function(){return"newReadingConfig"===this.$store.getters.mode},headerText:function(){return this.newConfigMode?"Nowa wartość":"Edycja wartości"},submitButtonText:function(){return this.newConfigMode?"Dodaj":"Zapisz"},isFormValid:function(){var e=null===this.parameterNameError&&null===this.readModeError,t=!0;return"listen"===this.readMode?t=!0:"send"===this.readMode?t=null===this.refreshPeriodError:"at"===this.readMode&&(t=null===this.refreshPeriodError&&null===this.atCommandNameError&&null===this.resultFormatError),e&&t}},methods:{discardChanges:function(){this.$store.commit("discardEditedReadingConfig"),this.$store.commit("previousMode")},saveParameter:function(){this.checkIfValid()&&(this.$store.commit("saveEditedReadingConfig"),this.$store.commit("previousMode"))},getEncodedCommandData:function(e){return"text"===this.atCommandFormat?se.encodeTextMessage(e):"hex"===this.atCommandFormat?se.encodeHexMessage(e):null},validateParameterName:function(e){return"undefined"===typeof e&&(e=this.parameterName),"string"===typeof e&&e.trim().length>0?(this.parameterNameError=null,!0):(this.parameterNameError="Nazwa parametru nie może być pusta.",!1)},validateReadMode:function(e){return"undefined"===typeof e&&(e=this.readMode),null!==e?(this.readModeError=null,!0):(this.readModeError="Proszę wybrać sposób odczytu parametru",!1)},validateRefreshPeriod:function(e){return"undefined"===typeof e&&(e=this.refreshPeriod),se.isNumeric(e)?(this.refreshPeriodError=null,!0):(this.refreshPeriodError="Czas odświeżania powinien być liczbą.",!1)},validateAtCommandName:function(e){return"undefined"===typeof e&&(e=this.atCommand),"string"===typeof e&&2===e.length?(this.atCommandNameError=null,!0):(this.atCommandNameError="Nazwa komendy AT powinna składać się z dwóch znaków",!1)},validateResultFormat:function(e){return"undefined"===typeof e&&(e=this.atCommandResultFormat),null!==e?(this.resultFormatError=null,!0):(this.resultFormatError="Proszę wybrać format wyniku.",!1)},checkIfValid:function(){this.formSubmitAttempted=!0,this.validateParameterName(),this.validateReadMode(),this.validateRefreshPeriod(),this.validateAtCommandName(),this.validateResultFormat();var e=this.isFormValid;return this.generalError=e?null:"Proszę poprawić błędy.",e},setAtCommandData:function(e){this.$store.commit("setEditedReadingConfigParam",{name:"atCommandData",value:e})}},mounted:function(){null===this.readingConfig.atCommandData?this.atCommandFormat="none":this.atCommandFormat="hex"}},Mt=Nt,Pt=(a("8db7"),Object(p["a"])(Mt,_t,kt,!1,null,"52bc1bf2",null)),Rt=Pt.exports,Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"one-column-container user-management-container"},[a("h2",{staticClass:"user-list-header"},[e._v("Użytkownicy")]),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.addUser}},[e._v("Dodaj użytkownika")]),a("ul",{staticClass:"user-list"},e._l(e.users,(function(t){return a("user-item",{key:t.id,attrs:{user:t},nativeOn:{click:function(a){return e.showUser(t)}}})})),1)])},Dt=[],jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"user-item"},[a("h3",{staticClass:"user-item-header",class:{"header-disabled":e.user.disabled}},[e._v(e._s(e.user.username))]),a("div",[e._v(" "+e._s(e.role)+" ")])])},It=[],Tt={name:"UserItem",props:{user:Object},computed:{role:function(){var e="admin"===this.user.role?"Administrator":"Użytkownik",t=this.user.disabled?" (zablokowany)":"";return e+t}},methods:{}},$t=Tt,Lt=(a("7c7b"),Object(p["a"])($t,jt,It,!1,null,"7c2936f0",null)),zt=Lt.exports,St={name:"UserManagement",components:{UserItem:zt},props:{},computed:{users:function(){return this.$store.state.users.users}},methods:{showUser:function(e){this.$store.commit("selectUser",e),this.$store.commit("pushMode","showUser")},addUser:function(){this.$store.commit("selectNewUser"),this.$store.commit("pushMode","newUser")}},mounted:function(){this.$store.dispatch("getUsers")}},Ot=St,Ut=(a("4450"),Object(p["a"])(Ot,Et,Dt,!1,null,"5f0c6a60",null)),At=Ut.exports,Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"one-column-container"},[a("div",{staticClass:"heading-back-group"},[a("button",{staticClass:"heading-back-button",attrs:{type:"button"},on:{click:e.back}}),a("h2",{staticClass:"heading-back-heading"},[e._v("Użytkownik "+e._s(e.user.username))])]),a("div",{staticClass:"user-details-main"},[a("dl",{staticClass:"dl-inline"},[a("dt",[e._v("Nazwa użytkownika: ")]),a("dd",[e._v(e._s(e.user.username))]),a("dt",[e._v("Rola: ")]),a("dd",[e._v(e._s(e.role))]),a("dt",[e._v("Zablokowany: ")]),a("dd",[e._v(e._s(e.disabledText))])]),a("div",{staticClass:"buttons-container"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.deleteUser}},[e._v("Usuń użytkownika")]),a("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.editUser}},[e._v("Edytuj użytkownika")])])])])},Wt=[],Bt={name:"UserManagement",components:{UserItem:zt},props:{},computed:{user:function(){return this.$store.state.users.selectedUser},role:function(){return"admin"===this.user.role?"Administrator":"Użytkownik"},disabledText:function(){return this.user.disabled?"Tak":"Nie"}},methods:{back:function(){this.$store.commit("previousMode")},editUser:function(){this.$store.commit("pushMode","editUser")},deleteUser:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("deleteUser",e.user);case 2:e.$store.commit("deleteUser",e.user),e.$store.commit("previousMode");case 4:case"end":return t.stop()}}),t)})))()}}},Ht=Bt,Vt=(a("ff40"),Object(p["a"])(Ht,Ft,Wt,!1,null,"6f0f6147",null)),qt=Vt.exports,Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"one-column-container user-edit-container",on:{submit:function(t){return t.preventDefault(),e.saveUser.apply(null,arguments)}}},[a("div",{staticClass:"heading-back-group"},[a("button",{staticClass:"heading-back-button",attrs:{type:"button"},on:{click:e.back}}),a("h2",{staticClass:"heading-back-heading"},[e._v(e._s(e.headerText))])]),a("div",{staticClass:"user-edit-main"},[a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"userNameInput"}},[e._v("Nazwa użytkownika")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"text-input",attrs:{type:"text",id:"userNameInput"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),null!==e.usernameError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.usernameError))]):e._e()]),e.newUserMode?e._e():a("div",{staticClass:"radio-set-container"},[a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isPasswordChanged,expression:"isPasswordChanged"}],staticClass:"checkbox-input",attrs:{type:"checkbox",id:"checkboxChangePassword"},domProps:{checked:Array.isArray(e.isPasswordChanged)?e._i(e.isPasswordChanged,null)>-1:e.isPasswordChanged},on:{change:function(t){var a=e.isPasswordChanged,n=t.target,r=!!n.checked;if(Array.isArray(a)){var s=null,o=e._i(a,s);n.checked?o<0&&(e.isPasswordChanged=a.concat([s])):o>-1&&(e.isPasswordChanged=a.slice(0,o).concat(a.slice(o+1)))}else e.isPasswordChanged=r}}}),a("label",{attrs:{for:"checkboxChangePassword"}},[e._v("Zmień hasło")])])]),a("div",{staticClass:"input-label-group"},[a("label",{staticClass:"text-label",attrs:{for:"passwordInput"}},[e._v("Hasło")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"text-input",attrs:{type:"password",id:"passwordInput",disabled:e.passwordFieldDisabled},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),null!==e.passwordError?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.passwordError))]):e._e()]),a("div",{staticClass:"radio-set-container"},[a("div",{staticClass:"radio-set-legend"},[e._v("Rola")]),a("div",{staticClass:"radio-set-content"},[a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"radio-input",attrs:{type:"radio",value:"user",name:"userRole",id:"userRoleUser","aria-describedby":"roleUserDescription"},domProps:{checked:e._q(e.role,"user")},on:{change:function(t){e.role="user"}}}),a("label",{attrs:{for:"userRoleUser"}},[e._v("Użytkownik")])]),a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"radio-input",attrs:{type:"radio",value:"admin",name:"userRole",id:"userRoleAdmin","aria-describedby":"roleAdminDescription"},domProps:{checked:e._q(e.role,"admin")},on:{change:function(t){e.role="admin"}}}),a("label",{attrs:{for:"userRoleAdmin"}},[e._v("Administrator")])])])]),a("div",{staticClass:"option-description"},["user"===e.role?a("span",{attrs:{id:"roleUserDescription"}},[e._v(" Użytkownik może odczytywać stan urządzeń, dodawać, modyfikować i usuwać mapy i urządzenia, a także wysyłać i odbierać pakiety od urządzeń. ")]):e._e(),"admin"===e.role?a("span",{attrs:{id:"roleAdminDescription"}},[e._v(" Administrator ma wszystkie uprawnienia zwykłego użytwkownika i dodatkowo może zarządzać kontami użytkowników. ")]):e._e()]),a("div",{staticClass:"radio-set-container"},[a("div",{staticClass:"radio-item-container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.userDisabled,expression:"userDisabled"}],staticClass:"checkbox-input",attrs:{type:"checkbox",id:"checkboxUserDisabled"},domProps:{checked:Array.isArray(e.userDisabled)?e._i(e.userDisabled,null)>-1:e.userDisabled},on:{change:function(t){var a=e.userDisabled,n=t.target,r=!!n.checked;if(Array.isArray(a)){var s=null,o=e._i(a,s);n.checked?o<0&&(e.userDisabled=a.concat([s])):o>-1&&(e.userDisabled=a.slice(0,o).concat(a.slice(o+1)))}else e.userDisabled=r}}}),a("label",{attrs:{for:"checkboxUserDisabled"}},[e._v("Zablokuj użytkownika")])])])]),a("div",{staticClass:"layer-edit-footer"},[a("div",{staticClass:"buttons-container"},[a("button",{staticClass:"button flex-button",attrs:{type:"button"},on:{click:e.back}},[e._v("Anuluj")]),a("button",{staticClass:"button flex-button",attrs:{type:"submit"}},[e._v(e._s(e.submitButtonText))])]),e.formSubmitAttempted&&!e.isFormValid?a("div",{staticClass:"input-error-message"},[e._v(e._s(e.generalError))]):e._e()])])},Kt=[],Gt={name:"UserEdit",data:function(){return{isPasswordChanged:!1,usernameError:null,passwordError:null,generalError:null,formSubmitAttempted:!1}},components:{},props:{},computed:{user:function(){return this.$store.state.users.selectedUser},mode:function(){return this.$store.getters.mode},newUserMode:function(){return"newUser"===this.mode},headerText:function(){return this.newUserMode?"Dodawanie użytkownika":"Edycja użytkownika "+this.user.username},passwordFieldDisabled:function(){return!this.newUserMode&&!this.isPasswordChanged},submitButtonText:function(){return this.newNodeMode?"Dodaj":"Zapisz"},isFormValid:function(){return null===this.usernameError&&null===this.passwordError},username:{get:function(){return this.user.username},set:function(e){this.validateUsername(e),this.$store.commit("setSelectedUserParam",{name:"username",value:e})}},password:{get:function(){return this.user.password},set:function(e){this.validatePassword(e),this.$store.commit("setSelectedUserParam",{name:"password",value:e})}},role:{get:function(){return this.user.role},set:function(e){this.$store.commit("setSelectedUserParam",{name:"role",value:e})}},userDisabled:{get:function(){return this.user.disabled},set:function(e){this.$store.commit("setSelectedUserParam",{name:"disabled",value:e})}}},methods:{validateUsername:function(e){return"undefined"===typeof e&&(e=this.username),"string"===typeof e&&e.trim().length>0?(this.usernameError=null,!0):(this.usernameError="Nazwa użytkownika nie może być pusta.",!1)},validatePassword:function(e){return"undefined"===typeof e&&(e=this.password),this.passwordFieldDisabled||"string"===typeof e&&e.trim().length>0?(this.passwordError=null,!0):(this.passwordError="Hasło nie może być puste.",!1)},checkIfValid:function(){this.formSubmitAttempted=!0,this.validateUsername(),this.validatePassword();var e=this.isFormValid;return this.generalError=e?null:"Proszę poprawić błędy.",e},back:function(){this.$store.commit("reselectUser"),this.$store.commit("previousMode")},saveUser:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkIfValid()){t.next=2;break}return t.abrupt("return");case 2:if(e.passwordFieldDisabled&&(e.password=null),!e.newUserMode){t.next=8;break}return t.next=6,e.$store.dispatch("addUser",e.user);case 6:t.next=10;break;case 8:return t.next=10,e.$store.dispatch("modifyUser",e.user);case 10:e.back();case 11:case"end":return t.stop()}}),t)})))()}},watch:{isPasswordChanged:function(e){!1===e&&(this.password=null)}}},Jt=Gt,Xt=(a("df57"),Object(p["a"])(Jt,Zt,Kt,!1,null,"6c474ba6",null)),Yt=Xt.exports,Qt={name:"MainLayout",components:{LayerList:g,NodeList:P,MapDisplay:G,LayerEdit:ge,NodeEdit:Re,MessageDisplay:Ae,AppHeader:Ye,LoginForm:rt,NodeSelect:xt,ParameterEdit:Rt,PasswordChangeForm:ct,UserManagement:At,UserDetails:qt,UserEdit:Yt},data:function(){return{}},computed:{mode:function(){return this.$store.getters.mode},isOneColumnMode:function(){return this.$store.getters.isOneColumnMode},mainDisplayMode:function(){return this.$store.state.mainDisplayMode},layers:function(){return this.$store.state.layers},activeLayer:function(){return this.$store.getters.activeLayer},activeLayerNodes:function(){return null===this.activeLayer?[]:this.activeLayer.nodes},activeLayerName:{get:function(){return this.$store.state.activeLayerName},set:function(e){this.$store.commit("setActiveLayer",e)}},layerNames:function(){return this.$store.getters.layerNames}},methods:{},mounted:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("loadDataAfterLogin");case 3:t.next=7;break;case 5:t.prev=5,t.t0=t["catch"](0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})))()}},ea=Qt,ta=(a("9765"),Object(p["a"])(ea,o,i,!1,null,"38d85ada",null)),aa=ta.exports,na={name:"App",components:{MainLayout:aa}},ra=na,sa=(a("034f"),Object(p["a"])(ra,r,s,!1,null,null,null)),oa=sa.exports,ia=a("5530"),da=a("b85c"),ua=(a("7db0"),a("c740"),a("a434"),a("4d63"),a("466d"),a("159b"),a("2f62")),ca=(a("4e82"),a("0644")),la=a.n(ca);function ma(){var e=1;function t(){return e++}return{next:t}}function pa(e){var t=0,a=-1,n=1;function r(){if(a++,a===e[t].nodes.length){a=0;do{t++,t===e.length&&(t=0)}while(0===e[t].nodes.length)}var r=e[t].nodes[a].address64,s=btoa("Message number "+n++);return{type:"received",address64:r,message:s}}function s(){t=0,a=-1}return{next:r,reset:s}}var fa=ma(),ga=ma(),ha=ma(),va=[{id:fa.next(),name:"1 Piętro",imgurl:a("515b"),number:1,width:10,height:10,nodes:[{id:ga.next(),name:"Lodówka",address64:"DEADBEEF12345678",x:1,y:1,readingConfigs:[]},{id:ga.next(),name:"Żarówka nr 8 w żyrandolu",address64:"0000111122223333",x:8,y:4,readingConfigs:[]}]},{id:fa.next(),name:"Parter",imgurl:a("ec27"),number:0,width:7.8,height:5,nodes:[{id:ga.next(),name:"Czujnik dymu",address64:"9999000099990000",x:1,y:4,readingConfigs:[]},{id:ga.next(),name:"Termometr",address64:"BACABECE87654321",x:5,y:2,readingConfigs:[{name:"Temperatura",mode:"listen",messagePrefix:btoa("temp"),messageToSend:null,refreshPeriod:null,atCommand:null,atCommandData:null},{name:"Ciśnienie",mode:"send",messagePrefix:btoa("press"),messageToSend:btoa("getpress"),refreshPeriod:10,atCommand:null,atCommandData:null},{name:"Wilgotność",mode:"at",messagePrefix:null,messageToSend:null,refreshPeriod:5,atCommand:"HU",atCommandData:null}]}]}];ha.next(),ha.next(),ha.next(),pa(va);var ya=a("bc3a"),wa=a.n(ya),ba={getLayers:Ta,getDiscoveryResults:La,sendLayer:Sa,deleteLayer:Ua,makeMessageSocket:Fa,getToken:ka,setToken:Ma,getCurrentUser:Pa,login:xa,logout:Ea,changePassword:ja,sendAtCommand:Wa,sendMessage:Ha,getUsers:qa,addUser:Ka,modifyUser:Ja,deleteUser:Ya},Ca=!1;function xa(e){return _a.apply(this,arguments)}function _a(){return _a=Object(d["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("username",t.username),a.append("password",t.password),e.next=5,wa.a.post(dn("/login"),a,{headers:{"Content-Type":"multipart/form-data"}});case 5:e.sent;case 6:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function ka(e){return Na.apply(this,arguments)}function Na(){return Na=Object(d["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("username",t.username),a.append("password",t.password),e.next=5,wa.a.post(dn("/token"),a,{headers:{"Content-Type":"multipart/form-data"}});case 5:if(n=e.sent,r=n.data.access_token,un(r),"string"===typeof r){e.next=10;break}throw new Error("Invalid token.");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}function Ma(e){e,wa.a.defaults.headers.common["Authorization"]="Bearer "+e}function Pa(){return Ra.apply(this,arguments)}function Ra(){return Ra=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wa.a.get(dn("/users/me"));case 2:return t=e.sent,un(t.data),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Ea(){return Da.apply(this,arguments)}function Da(){return Da=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wa.a.post(dn("/logout"));case 2:null,delete wa.a.defaults.headers.common["Authorization"];case 4:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function ja(e){return Ia.apply(this,arguments)}function Ia(){return Ia=Object(d["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=on(t),un(a),e.next=4,wa.a.post(dn("/password-change"),a);case 4:n=e.sent,un(n);case 6:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Ta(){return $a.apply(this,arguments)}function $a(){return $a=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wa.a.get(dn("/floors"));case 2:return t=e.sent,a=t.data,en(a),un(a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}function La(){return za.apply(this,arguments)}function za(){return za=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wa.a.get(dn("/network-discovery"));case 2:return t=e.sent,un(t.data),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Sa(e,t){return Oa.apply(this,arguments)}function Oa(){return Oa=Object(d["a"])(regeneratorRuntime.mark((function e(t,a){var n,r,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=tn(t),un("layer sent",n),"number"!==typeof t.id){e.next=9;break}return e.next=5,wa.a.put(dn("/floors/"+t.id),n);case 5:s=e.sent,r=s.data,e.next=13;break;case 9:return e.next=11,wa.a.post(dn("/floors"),n);case 11:o=e.sent,r=o.data;case 13:if(!a){e.next=19;break}return i=new FormData,i.append("file",a),un("Sending image file..."),e.next=19,wa.a.put(dn("/floors/"+r.id+"/image"),i,{headers:{"Content-Type":"multipart/form-data"}});case 19:return un("layer returned",r),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}function Ua(e){return Aa.apply(this,arguments)}function Aa(){return Aa=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wa.a.delete(dn("/floors/"+t.id));case 2:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Fa(){var e=window.location,t="https:"===e.protocol?"wss://":"ws://",a=t+e.host+"/message-socket",n=new WebSocket(a);return n.onerror=function(e){return un("WebSocket error",e)},n.onclose=function(e){return un("WebSocket closed",e)},n}function Wa(e){return Ba.apply(this,arguments)}function Ba(){return Ba=Object(d["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=sn(t),e.next=3,wa.a.post(dn("/xbee-at-command"),a);case 3:return n=e.sent,un(n),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}function Ha(e){return Va.apply(this,arguments)}function Va(){return Va=Object(d["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={address64:t.address64,message:t.message},e.next=3,wa.a.post(dn("/xbee-message"),a);case 3:return n=e.sent,un(n),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function qa(){return Za.apply(this,arguments)}function Za(){return Za=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wa.a.get(dn("/users"));case 2:return t=e.sent,un(t),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function Ka(e){return Ga.apply(this,arguments)}function Ga(){return Ga=Object(d["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wa.a.post(dn("/users"),t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Ja(e){return Xa.apply(this,arguments)}function Xa(){return Xa=Object(d["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wa.a.put(dn("/users/"+t.id),t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}function Ya(e){return Qa.apply(this,arguments)}function Qa(){return Qa=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,wa.a.delete(dn("/users/"+t.id));case 2:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}function en(e){var t,a=Object(da["a"])(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.imgurl=dn("/floors/"+n.id+"/image");var r,s=Object(da["a"])(n.nodes);try{for(s.s();!(r=s.n()).done;){var o=r.value;o.address16=null,o.deviceId=null,o.role=null,o.discovered=null,o.tempId=null;var i=o.reading_configs.map(rn);o.readingConfigs=i}}catch(d){s.e(d)}finally{s.f()}}}catch(d){a.e(d)}finally{a.f()}}function tn(e){var t=e.nodes.map(an),a={name:e.name,number:e.number,width:e.width,height:e.height,nodes:t};return a}function an(e){return{id:e.id,name:e.name,address64:e.address64,x:e.x,y:e.y,reading_configs:e.readingConfigs.map(nn)}}function nn(e){return{id:e.id,name:e.name,mode:e.mode,refresh_period:e.refreshPeriod,message_prefix:e.messagePrefix,message_to_send:e.messageToSend,at_command:e.atCommand,at_command_data:e.atCommandData,at_command_result_format:e.atCommandResultFormat}}function rn(e){return{id:e.id,tempId:null,name:e.name,mode:e.mode,refreshPeriod:e.refresh_period,messagePrefix:e.message_prefix,messageToSend:e.message_to_send,atCommand:e.at_command,atCommandData:e.at_command_data,atCommandResultFormat:e.at_command_result_format,lastReading:null}}function sn(e){return{address64:e.address64,command_type:e.commandType,at_command:e.atCommand,value:e.value}}function on(e){return{old_password:e.oldPassword,new_password:e.newPassword}}function dn(e){return""+e}function un(){var e;Ca&&(e=console).log.apply(e,arguments)}var cn=ba;function ln(){var e=1;function t(){return e++}return{next:t}}var mn=a("9062"),pn=a.n(mn),fn={state:function(){return{users:[],selectedUser:null}},getters:{},mutations:{setUsers:function(e,t){e.users=t},addUser:function(e,t){e.users.push(t)},modifyUser:function(e,t){var a=e.users.findIndex((function(e){return e.id===t.id}));e.users.splice(a,1,t)},deleteUser:function(e,t){var a=e.users.findIndex((function(e){return e.id===t.id}));e.users.splice(a,1)},selectUser:function(e,t){var a=la()(t);a.password=null,e.selectedUser=a},selectNewUser:function(e){e.selectedUser={id:null,username:null,password:null,role:"user",disabled:!1}},reselectUser:function(e){if(e.selectedUser&&null!==e.selectedUser.id){var t=e.users.find((function(t){return t.id===e.selectedUser.id}));if(t){var a=la()(t);a.password=null,e.selectedUser=a}else e.selectedUser=null}else e.selectedUser=null},setSelectedUserParam:function(e,t){e.selectedUser[t.name]=t.value}},actions:{getUsers:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,cn.getUsers();case 2:a=t.sent,e.commit("setUsers",a);case 4:case"end":return t.stop()}}),t)})))()},addUser:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,cn.addUser(t);case 2:n=a.sent,e.commit("addUser",n);case 4:case"end":return a.stop()}}),a)})))()},modifyUser:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,cn.modifyUser(t);case 2:n=a.sent,e.commit("modifyUser",n);case 4:case"end":return a.stop()}}),a)})))()},deleteUser:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,cn.deleteUser(t);case 2:e.commit("deleteUser",t);case 3:case"end":return a.stop()}}),a)})))()}}};n["a"].use(ua["a"]);var gn=ln(),hn=ln(),vn=["view","newLayer","editLayer","newNode","editNode","selectNode","newReadingConfig","editReadingConfig","login","changePassword","manageUsers","showUser","newUser","editUser"];function yn(e){return-1!==vn.indexOf(e)}function wn(e){var t=["login","changePassword","manageUsers","showUser","newUser","editUser"];return-1!==t.indexOf(e)}function bn(){return{user:null,modeStack:["login"],mainDisplayMode:"map",layers:[],editedLayer:null,editedLayerImageFile:null,editedNode:null,editedReadingConfig:null,activeLayerName:null,discoveryResults:null,displayedMessagesNode:null,readingTimers:[],messages:[],messageSocket:null}}var Cn=new ua["a"].Store({state:bn(),getters:{mode:function(e){return e.modeStack[e.modeStack.length-1]},isOneColumnMode:function(e,t){return wn(t.mode)},activeLayer:function(e){if(null===e.editedLayer){var t=e.layers.find((function(t){return t.name===e.activeLayerName}));return t||null}return e.editedLayer},layerNames:function(e){return e.layers.map((function(e){return e.name}))},nodeAddressesInSystem:function(e){var t,a={},n=Object(da["a"])(e.layers);try{for(n.s();!(t=n.n()).done;){var r,s=t.value,o=Object(da["a"])(s.nodes);try{for(o.s();!(r=o.n()).done;){var i=r.value;a[i.address64]=!0}}catch(d){o.e(d)}finally{o.f()}}}catch(d){n.e(d)}finally{n.f()}return a},discoveredNodesNotInSystem:function(e,t){if(null===e.discoveryResults)return[];var a=t.nodeAddressesInSystem;return e.discoveryResults.devices.filter((function(e){return!a[e.address64]}))},discoveredNodesInSystem:function(e,t){if(null===e.discoveryResults)return[];var a=t.nodeAddressesInSystem;return e.discoveryResults.devices.filter((function(e){return a[e.address64]}))}},mutations:{setUser:function(e,t){e.user=t},pushMode:function(e,t){if(!yn(t))throw new Error("Invalid mode");e.modeStack.push(t)},replaceMode:function(e,t){if(!yn(t))throw new Error("Invalid mode");e.modeStack.length>0&&e.modeStack.pop(),e.modeStack.push(t)},previousMode:function(e){e.modeStack.length>1&&e.modeStack.pop()},setMainDisplayMode:function(e,t){e.mainDisplayMode=t},setLayers:function(e,t){e.layers=t},setDiscoveryResults:function(e,t){e.discoveryResults=t},setActiveLayer:function(e,t){e.activeLayerName=t},setEditedLayer:function(e,t){e.editedLayer=t},setEditedLayerParam:function(e,t){e.editedLayer[t.name]=t.value},setEditedLayerImage:function(e,t){e.editedLayerImageFile=t.file,e.editedLayer.imgurl=t.imgurl,e.editedLayer.width=t.width,e.editedLayer.height=t.height},prepareNewLayer:function(e){e.editedLayer={name:null,imgurl:null,number:null,width:null,height:null,nodes:[],isNewImage:!1}},prepareLayerForEdit:function(e,t){e.editedLayer=la()(t),e.editedLayer.isNewImage=!1},prepareNewNode:function(e){e.editedNode={id:null,tempId:null,name:null,address64:null,x:null,y:null,readingConfigs:[]}},prepareNodeForEdit:function(e,t){e.editedNode=la()(t)},setEditedNodeParam:function(e,t){e.editedNode[t.name]=t.value},setCoordinatesOfEditedNode:function(e,t){e.editedNode.x=t.x,e.editedNode.y=t.y},saveEditedNode:function(e){if(null!==e.editedNode.id){var t=e.editedLayer.nodes.findIndex((function(t){return t.id===e.editedNode.id}));-1!==t&&e.editedLayer.nodes.splice(t,1,e.editedNode)}else if(null!==e.editedNode.tempId){var a=e.editedLayer.nodes.findIndex((function(t){return t.tempId===e.editedNode.tempId}));-1!==a&&e.editedLayer.nodes.splice(a,1,e.editedNode)}else e.editedNode.tempId=gn.next(),e.editedLayer.nodes.push(e.editedNode);e.editedNode=null},discardEditedNode:function(e){e.editedNode=null},deleteNode:function(e,t){if(null!==t.id){var a=e.editedLayer.nodes.findIndex((function(e){return e.id===t.id}));-1!==a&&e.editedLayer.nodes.splice(a,1)}else if(null!==t.tempId){var n=e.editedLayer.nodes.findIndex((function(e){return e.tempId===t.tempId}));-1!==n&&e.editedLayer.nodes.splice(n,1)}},prepareNewReadingConfig:function(e){e.editedReadingConfig={id:null,tempId:null,name:null,mode:null,messagePrefix:null,messageToSend:null,refreshPeriod:null,atCommand:null,atCommandData:null,atCommandResultFormat:null,lastReading:null}},prepareReadingConfigForEdit:function(e,t){e.editedReadingConfig=la()(t)},setEditedReadingConfigParam:function(e,t){e.editedReadingConfig[t.name]=t.value},saveEditedReadingConfig:function(e){if(null!==e.editedReadingConfig.id){var t=e.editedNode.readingConfigs.findIndex((function(t){return t.id===e.editedReadingConfig.id}));-1!==t&&e.editedNode.readingConfigs.splice(t,1,e.editedReadingConfig)}else if(null!==e.editedReadingConfig.tempId){var a=e.editedNode.readingConfigs.findIndex((function(t){return t.tempId===e.editedReadingConfig.tempId}));-1!==a&&e.editedNode.readingConfigs.splice(a,1,e.editedReadingConfig)}else e.editedReadingConfig.tempId=gn.next(),e.editedNode.readingConfigs.push(e.editedReadingConfig);e.editedReadingConfig=null},discardEditedReadingConfig:function(e){e.editedReadingConfig=null},deleteReadingConfig:function(e,t){if(null!==t.id){var a=e.editedNode.readingConfigs.findIndex((function(e){return e.id===t.id}));-1!==a&&e.editedNode.readingConfigs.splice(a,1)}else if(null!==t.tempId){var n=e.editedNode.readingConfigs.findIndex((function(e){return e.tempId===t.tempId}));-1!==n&&e.editedNode.readingConfigs.splice(n,1)}},writeDiscoveryStatusToNodes:function(e){if(null!==e.discoveryResults){var t,a=Object(da["a"])(e.layers);try{for(a.s();!(t=a.n()).done;){var n,r=t.value,s=Object(da["a"])(r.nodes);try{var o=function(){var t=n.value,a=e.discoveryResults.devices.find((function(e){return e.address64===t.address64}));"undefined"===typeof a?(t.discovered=!1,t.address16=null,t.role=null,t.deviceId=null):(t.discovered=!0,t.address16=a.address16,t.role=a.role,t.deviceId=a.id)};for(s.s();!(n=s.n()).done;)o()}catch(i){s.e(i)}finally{s.f()}}}catch(i){a.e(i)}finally{a.f()}}},addMessage:function(e,t){t.tempId=hn.next(),e.messages.push(t)},updateMessage:function(e,t){var a=e.messages.find((function(e){return e.tempId===t.tempId}));a&&Object.assign(a,t)},setDisplayedMessagesNode:function(e,t){e.displayedMessagesNode=t},updateLastReadings:function(e,t){var a,n=se.decodeMessageToText(t.message),r=Object(da["a"])(e.layers);try{for(r.s();!(a=r.n()).done;){var s,o=a.value,i=Object(da["a"])(o.nodes);try{for(i.s();!(s=i.n()).done;){var d=s.value;if(d.address64===t.address64){var u,c=Object(da["a"])(d.readingConfigs);try{for(c.s();!(u=c.n()).done;){var l=u.value;if("listen"===l.mode||"send"===l.mode){var m=se.decodeMessageToText(l.messagePrefix),p=new RegExp("^"+pn()(m)+"\\s*(.*)"),f=n.match(p);if(null!==f){var g=f[1];l.lastReading=g}}}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}}}catch(h){r.e(h)}finally{r.f()}},setLastReading:function(e,t){t.readingConfig.lastReading=t.lastReading},addReadingTimer:function(e,t){e.readingTimers.push(t)},clearReadingTimers:function(e){e.readingTimers.forEach(clearInterval)},setMessageSocket:function(e,t){e.messageSocket=t},resetState:function(e){Object.assign(e,bn())}},actions:{loadLayerImage:function(e,t){var a=URL.createObjectURL(t),n=new Image;n.src=a,n.onload=function(){e.state.editedLayer.imgurl&&URL.revokeObjectURL(e.state.editedLayer.imgurl);var r={file:t,imgurl:a,width:n.width,height:n.height};e.commit("setEditedLayerImage",r)},n.onerror=function(e){return console.log(e)}},loadDataAfterLogin:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.dispatch("getCurrentUser",t);case 2:return e.commit("replaceMode","view"),e.dispatch("openMessageSocket"),a.next=6,e.dispatch("downloadLayers");case 6:case"end":return a.stop()}}),a)})))()},login:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,cn.login(t);case 2:case"end":return e.stop()}}),e)})))()},getCurrentUser:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,cn.getCurrentUser();case 2:a=t.sent,e.commit("setUser",a);case 4:case"end":return t.stop()}}),t)})))()},logout:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit("clearReadingTimers"),e.commit("setUser",null),e.dispatch("closeMessageSocket"),t.next=5,cn.logout();case 5:e.commit("resetState");case 6:case"end":return t.stop()}}),t)})))()},changePassword:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,cn.changePassword(t);case 2:case"end":return e.stop()}}),e)})))()},downloadLayers:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,cn.getLayers();case 2:a=t.sent,e.commit("setLayers",a),e.commit("writeDiscoveryStatusToNodes"),e.commit("clearReadingTimers"),e.dispatch("setReadingTimers");case 7:case"end":return t.stop()}}),t)})))()},downloadDiscoveryResults:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,cn.getDiscoveryResults();case 2:a=t.sent,e.commit("setDiscoveryResults",a),e.commit("writeDiscoveryStatusToNodes");case 5:case"end":return t.stop()}}),t)})))()},saveEditedLayer:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.getters.activeLayer,!a.isNewImage){t.next=6;break}return t.next=4,cn.sendLayer(a,e.state.editedLayerImageFile);case 4:t.next=8;break;case 6:return t.next=8,cn.sendLayer(a);case 8:return t.next=10,e.dispatch("downloadLayers");case 10:case"end":return t.stop()}}),t)})))()},deleteLayer:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,cn.deleteLayer(t);case 2:return a.next=4,e.dispatch("downloadLayers");case 4:case"end":return a.stop()}}),a)})))()},sendMessage:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.status="sending",t.timestamp=Date.now(),t.error=null,e.commit("addMessage",t),a.prev=4,a.next=7,cn.sendMessage(t);case 7:n=a.sent,"ok"===n.status.toLowerCase()?e.commit("updateMessage",{tempId:t.tempId,status:"acknowledged"}):e.commit("updateMessage",{tempId:t.tempId,status:"sendingError",error:n.message}),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](4),e.commit("updateMessage",{tempId:t.tempId,status:"serverError",error:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[4,11]])})))()},addReceivedMessage:function(e,t){t.timestamp=Date.now(),e.commit("addMessage",t),e.commit("updateLastReadings",t)},setReadingTimers:function(e){var t,a=Object(da["a"])(e.state.layers);try{for(a.s();!(t=a.n()).done;){var n,r=t.value,s=Object(da["a"])(r.nodes);try{for(s.s();!(n=s.n()).done;){var o,i=n.value,d=Object(da["a"])(i.readingConfigs);try{for(d.s();!(o=d.n()).done;){var u=o.value;if("send"===u.mode){var c={node:i,readingConfig:u},l=setInterval(e.dispatch,1e3*u.refreshPeriod,"sendMessageForReading",c);e.commit("addReadingTimer",l),e.dispatch("sendMessageForReading",c)}else if("at"===u.mode){var m={node:i,readingConfig:u},p=setInterval(e.dispatch,1e3*u.refreshPeriod,"sendAtCommandForReading",m);e.commit("addReadingTimer",p),e.dispatch("sendAtCommandForReading",m)}}}catch(g){d.e(g)}finally{d.f()}}}catch(g){s.e(g)}finally{s.f()}}}catch(g){a.e(g)}finally{a.f()}var f=setInterval(e.dispatch,12e4,"downloadDiscoveryResults");e.commit("addReadingTimer",f),e.dispatch("downloadDiscoveryResults")},sendMessageForReading:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={type:"sent",address64:t.node.address64,message:t.readingConfig.messageToSend},a.next=3,e.dispatch("sendMessage",n);case 3:case"end":return a.stop()}}),a)})))()},sendAtCommandForReading:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={commandType:"get_parameter",address64:t.node.address64,atCommand:t.readingConfig.atCommand,value:t.readingConfig.atCommandData},a.next=3,e.dispatch("sendAtCommand",n);case 3:r=a.sent,s=null===r.result?"---":"hex"===t.readingConfig.atCommandResultFormat?se.decodeMessageToHex(r.result):"dec"===t.readingConfig.atCommandResultFormat?se.decodeToDecBigEndian(r.result):se.decodeMessageToText(r.result),e.commit("setLastReading",{readingConfig:t.readingConfig,lastReading:s});case 6:case"end":return a.stop()}}),a)})))()},sendAtCommand:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=Object(ia["a"])({type:"at",result:null,status:"sending",timestamp:Date.now(),error:null},t),e.commit("addMessage",n),a.prev=2,a.next=5,cn.sendAtCommand(t);case 5:r=a.sent,n.result=r.result,"ok"===r.status.toLowerCase()?e.commit("updateMessage",{tempId:n.tempId,status:"acknowledged"}):e.commit("updateMessage",{tempId:n.tempId,status:"sendingError",error:r.error}),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](2),e.commit("updateMessage",{tempId:n.tempId,status:"serverError",error:a.t0.message});case 13:return a.abrupt("return",n);case 14:case"end":return a.stop()}}),a,null,[[2,10]])})))()},openMessageSocket:function(e){var t=cn.makeMessageSocket();t.onmessage=function(e){return Cn.dispatch("addReceivedMessage",JSON.parse(e.data))},e.commit("setMessageSocket",t)},closeMessageSocket:function(e){e.state.messageSocket&&e.state.messageSocket.close(1e3),e.commit("setMessageSocket",null)}},modules:{users:fn}}),xn=Cn;a("160f"),a("845f");n["a"].config.productionTip=!1,new n["a"]({store:xn,render:function(e){return e(oa)}}).$mount("#app")},"586e":function(e,t,a){},"5f50":function(e,t,a){},"6b39":function(e,t,a){e.exports=a.p+"img/marker-icon-gray.3d170c6f.png"},"7c7b":function(e,t,a){"use strict";a("558f")},"7c90":function(e,t,a){},"845f":function(e,t,a){},"848b":function(e,t,a){},"85ec":function(e,t,a){},"8db7":function(e,t,a){"use strict";a("959f")},"8ec0":function(e,t,a){e.exports=a.p+"img/marker-icon-purple.724a1ecc.png"},"93e5":function(e,t,a){"use strict";a("3c39")},9446:function(e,t,a){},"959f":function(e,t,a){},9765:function(e,t,a){"use strict";a("1879")},"9c54":function(e,t,a){"use strict";a("0ada")},a397:function(e,t,a){},a657:function(e,t,a){"use strict";a("472c")},a988:function(e,t,a){e.exports=a.p+"img/marker-icon-green.6f1bc0d9.png"},af22:function(e,t,a){e.exports=a.p+"img/trash.8db4e757.svg"},b590:function(e,t,a){"use strict";a("1a62")},bc82:function(e,t,a){"use strict";a("5f50")},d85b:function(e,t,a){"use strict";a("9446")},dcfa:function(e,t,a){e.exports=a.p+"img/person-circle.dd0df253.svg"},df57:function(e,t,a){"use strict";a("4692")},e26a:function(e,t,a){},e904:function(e,t,a){},ec27:function(e,t,a){e.exports=a.p+"img/plan2.8f8fa675.png"},f484:function(e,t,a){"use strict";a("f8d8")},f571:function(e,t,a){e.exports=a.p+"img/gear.f142545c.svg"},f5ac:function(e,t,a){},f8d8:function(e,t,a){},fb2c:function(e,t,a){"use strict";a("f5ac")},ff40:function(e,t,a){"use strict";a("7c90")}});
//# sourceMappingURL=app.92847482.js.map