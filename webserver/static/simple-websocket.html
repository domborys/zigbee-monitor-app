<!DOCTYPE HTML>
<head>
    <title>Simple websocket</title>
    
</head>
<body>
    <article>
        <h2>Send message</h2>
        <textarea id="message_to_send" style="width:95%;"></textarea><br>
        <button type="button" id="button_send">Send</button>
    </article>
    <article>
        <h2>Received messages</h2>
        <div id="received_messages">

        </div>
    </article>

    <script>
        var socket = new WebSocket("ws://localhost:8000/message-socket");
        socket.onmessage = function(event){
            var div = document.createElement('div');
            div.textContent = event.data;
            document.getElementById('received_messages').appendChild(div);
        }
        var button_send = document.getElementById('button_send');
        button_send.addEventListener('click', function(event){
            var text_to_send = document.getElementById('message_to_send').value;
            socket.send(text_to_send)
        })
    </script>
</body>